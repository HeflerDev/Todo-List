/* eslint-disable */
!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var o={createTaskObj:(t,e,n,o)=>({name:t,content:e,difficulty:n,date:o,status:!1,todos:[]}),validateProjectInput:t=>/^[a-zA-Z]/g.test(t),validateTodoInput:t=>/^[a-zA-Z]/.test(t),validateTaskInput:t=>{const e=[];return/^[a-zA-Z]/.test(t.name)||e.push("Task name must start with an letter"),t.content||e.push("Task content must exist"),Date.parse(t.date)||e.push("Invalid Date input"),e.length>0?e:"true"},convertToValidId:t=>t.replace(/\s/g,"-")};var a=(()=>{const t=(t,e,n=null,a="div")=>{const c=document.createElement(a);return t&&(c.id=o.convertToValidId(t)),e=o.convertToValidId(e),n&&(Array.isArray(n)?n.forEach(t=>{c.classList.add(t)}):c.classList.add(n)),document.getElementById(e).appendChild(c),c};return{container:t,closeTabBtn:e=>{t("close-btn-container",e,"flex-grid"),t(null,"close-btn-container","col-10");const n=t(null,"close-btn-container",["col-2","close-button"],"button");return n.textContent="X",n}}})();var c={newProjectForm:()=>{a.container("project-form-container","new-project-btn-container",["box","col-12"],"div"),a.container("project-form","project-form-container",["flex-grid"],"form"),a.container("p","project-form",["col-12"],"label").textContent="Project Name",a.container("project-name","project-form",["col-12"],"input");const t=a.container("project-submit-btn","project-form",["col-12","btn-primary"]);return t.textContent="Create Project!",t},newTaskForm:t=>{a.container("task-form-container",t,["box"]),a.container("task-form-warning-container","task-form-container"),a.container("task-form","task-form-container","flex-grid","form"),a.container("name-label","task-form",["col-12"],"label").textContent="Name",a.container("name-input","task-form",["col-12"],"input"),document.getElementById("task-form").appendChild(document.createElement("br")),a.container("content-label","task-form",["col-12"],"label").textContent="Content",a.container("content-input","task-form",["col-12"],"textarea"),document.getElementById("task-form").appendChild(document.createElement("br")),a.container("difficulty-label","task-form",["col-12"],"label").textContent="Difficulty",a.container("difficulty-select","task-form",["col-12"],"select");const e=a.container("difficulty-option-1","difficulty-select",null,"option");e.textContent="Easy",e.value="Easy";const n=a.container("difficulty-option-2","difficulty-select",null,"option");n.textContent="Medium",n.value="Medium";const o=a.container("difficulty-option-3","difficulty-select",null,"option");o.textContent="Hard",o.value="Hard",a.container("date-label","task-form",null,"label"),a.container("date-input","task-form",["col-6"],"input").type="date";const c=a.container("task-submit","task-form",["col-6","submit-btn"],"div");return c.textContent="Submit",c},newTodoForm:(t,e)=>{a.container("todo-form-container",`task-${t}-${e}-todo-button-container`,["flex-grid"],"form"),a.container("todo-form-label","todo-form-container",null,"label"),a.container("todo-form-input","todo-form-container",null,"input");const n=a.container("todo-form-submit","todo-form-container",null,"input");return n.value="Create Todo",n.type="submit",n}};var r={renderWarningProjectMessage:t=>{a.container(t,"project-form-container",["col-12","warning-messag"]).texContent=t},renderProject:t=>{a.container("project-"+t,"content-section",["box","whole-project-container"]),a.container(`project-${t}-container`,"project-"+t,["flex-grid","project-container"]),a.container(`project-${t}-name`,`project-${t}-container`,["col-12","col-m-10"]),a.container(t,`project-${t}-name`,["minibox","center"],"h2").textContent=t;const e=a.container(`project-${t}-button`,`project-${t}-container`,["col-2","minibox","no-margin","new-task-btn"],"button");return a.container(null,`project-${t}-button`,["minibox"]).textContent="Add New Task",e},renderCheckedTodo:(t,e,n)=>{const o=`task-${t}-${e}-${n}`;a.container(o+"-todo",`task-${t}-${e}-todo-container`,["flex-grid","completed-todo"]),a.container(o+"-todo-container-complete-button-container",o+"-todo","col-1");const c=a.container(o+"-todo-container-button",o+"-todo-container-complete-button-container","complete-btn","button"),[r]=JSON.parse(n);return a.container(`todo-${t}-${e}-${n}-todo-container-description`,`task-${t}-${e}-${n}-todo`,"col-10").textContent=r,{checkBtn:c}},renderTask:(t,e)=>{const n=`task-${t}-${e.name}`;a.container(""+n,"project-"+t,["task-container"]),a.container(n+"-container",`task-${t}-${e.name}`,["flex-grid"]),a.container(n+"-complete-task-container",n+"-container",["col-1","minibox","no-bounds"]);const o=a.container(n+"-complete-task-btn",n+"-complete-task-container",["complete-btn","minibox"],"button"),c=a.container("{idString}-content-task-name",n+"-container",["col-10","minibox","no-bounds","task-name"]);c.textContent=e.name,a.container(n+"-todo-button-container",n+"-container",["col-1","minibox","end","no-bounds"]);const r=a.container(n+"-todo-button",n+"-todo-button-container",["no-bounds","btn-todo"]);return r.textContent="+ Todo",a.container(null,n+"-container","col-1"),a.container(n+"-todo-container",n+"-container","col-11"),{todoBtn:r,nameBtn:c,completeBtn:o}},newProjectBtn:()=>{a.container("new-project-btn-container","content-section",["flex-grid","center"]);const t=a.container("new-project-btn","new-project-btn-container",["new-project-btn"],"button");return t.textContent="+",t},renderTodo:(t,e,n)=>{const o=`task-${t}-${e}-${n}`;a.container(o+"-todo",`task-${t}-${e}-todo-container`,["flex-grid","todo-container"]),a.container(o+"-todo-container-complete-button-container",o+"-todo","col-1");const c=a.container(o+"-todo-container-button",o+"-todo-container-complete-button-container","complete-btn","button"),[r]=JSON.parse(n);a.container(`todo-${t}-${e}-${n}-todo-container-description`,`task-${t}-${e}-${n}-todo`,"col-10").textContent=r,a.container(o+"-todo-container-delete-button-container",o+"-todo","col-1");const i=a.container(o+"-todo-container-delete-button",o+"-todo-container-delete-button-container","soft-button");return i.textContent="X",{checkBtn:c,deleteBtn:i}},noProjectWarning:()=>{const t=a.container("no-project-warning","content-section",["no-project-warning"]);return t.textContent='Nothing to display here. Press "+" to create a new project',t},renderWarningMessage:t=>{a.container(t,"task-form-warning-container",["col-12","warning-message"]).textContent=t},renderTaskInfo:(t,e)=>{const n=`task-info-${t}-${e.name}`,o=`task-${t}-${e.name}`;a.container("task-info-container",""+o,["box","info"]);const c=a.closeTabBtn("task-info-container");a.container(null,"task-info-container","task-description","p").textContent=e.content,a.container(n+"-difficulty-container","task-info-container");const r=a.container(n+"-difficulty",n+"-difficulty-container");r.textContent=e.difficulty,a.container(n+"-date-container","task-info-container");const i=a.container(n+"-date",n+"-date-container");i.textContent=e.date,a.container(n+"-btn-container","task-info-container",["flex-grid"]);const s=a.container(n+"-btn-edit",n+"-btn-container",["col-6","btn-edit"],"button");s.textContent="Edit";const l=a.container(n+"-btn-delete",n+"-btn-container",["col-6","btn-danger"],"button");return l.textContent="Delete",{closeBtn:c,editBtn:s,deleteBtn:l,difficultyInfo:r,dateInfo:i}}};const i=(()=>{const t=(t,e)=>{const n=localStorage.getItem(t);let o=-1;return JSON.parse(n).forEach((t,n)=>{const a=JSON.parse(t);e===a.name&&(o=n)}),o},e=(e,n)=>{const o=JSON.parse(localStorage.getItem(e));return JSON.parse(o[t(e,n)])},n=(e,n)=>{const o=JSON.parse(localStorage.getItem(e));o.splice(t(e,n),1),localStorage.removeItem(e),localStorage.setItem(e,JSON.stringify(o))},o=(t,e)=>{const n=JSON.parse(localStorage.getItem(t));localStorage.removeItem(t),n.unshift(JSON.stringify(e)),localStorage.setItem(t,JSON.stringify(n))},a=(t,e,n)=>{const o=i.findDataIndexByKey(t,e),a=JSON.parse(localStorage.getItem(t)),c=JSON.parse(a[o]);let r=-1;return c.todos.forEach((t,e)=>{JSON.parse(t)[0]===n&&(r=e)}),r},c=(t,n)=>{const o=e(t,n);return Date.parse(o.date)<Date.now()};return{addNewTaskToProject:o,addNewTodoToTask:(e,a,c)=>{const r=t(e,a.name);if(-1!==r){const t=JSON.parse(localStorage.getItem(e)),i=JSON.parse(t[r]);i.todos.push(JSON.stringify([c,!1])),n(e,a.name),o(e,i)}},createNewProject:t=>{localStorage.setItem(t,JSON.stringify([]))},removeTaskFromProject:n,removeTodoFromTask:(t,c,r)=>{const i=e(t,c);i.todos.splice(a(t,c,r),1),n(t,c),o(t,i)},findDataIndexByKey:t,getTodoIndex:a,checkIfTodoIsCompleted:(t,e,n)=>{const o=i.findDataIndexByKey(t,e),c=JSON.parse(localStorage.getItem(t)),r=JSON.parse(c[o]).todos[a(t,e,n)];return JSON.parse(r)[1]},changeTodoState:(t,e,a)=>{const c=JSON.parse(localStorage.getItem(t)),r=JSON.parse(c[i.findDataIndexByKey(t,e)]);let s=r.todos.splice(i.getTodoIndex(t,e,a),1);s=JSON.parse(s),!1===s[1]?s[1]=!0:s[1]=!1,r.todos.push(JSON.stringify(s)),n(t,e),o(t,r)},changeTaskState:(e,a)=>{const c=JSON.parse(localStorage.getItem(e)),r=JSON.parse(c[t(e,a)]);r.status?r.status=!1:r.status=!0,n(e,a),o(e,r)},checkForProjectExistence:()=>localStorage.length>0,retrieveTaskData:e,gatherStorageData:()=>{let t=0,e=0,n=0,o=0;return Object.keys(localStorage).forEach(a=>{JSON.parse(localStorage.getItem(a)).forEach(r=>{const i=JSON.parse(r);!0===i.status?t+=1:e+=1,c(a,i.name)?!1===i.status&&(o+=1):n+=1})}),{completed:t.toString(),uncompleted:e.toString(),onTime:n.toString(),lateTime:o.toString()}},checkIfDateIsLate:c,gatherCompletedTasksNames:()=>{const t=[];return Object.keys(localStorage).forEach(e=>{JSON.parse(localStorage.getItem(e)).forEach(e=>{const n=JSON.parse(e);!0===n.status&&t.push(n.name)})}),t.length>0?t:["There isn't any completed tasks"]},removeWebpackStorageLog:()=>{localStorage.getItem("loglevel:webpack-dev-server")&&localStorage.removeItem("loglevel:webpack-dev-server")}}})();var s=i;var l=(()=>{const t=(t,e,n)=>{const a=JSON.parse(e),i=document.getElementById("task-info-container");i&&i.remove();const l=r.renderTaskInfo(t,a);l.editBtn.addEventListener("click",()=>{if(document.getElementById("task-info-container").remove(),!document.getElementById("task-form-container")){const e=c.newTaskForm(t);(t=>{document.getElementById("name-input").value=t.name,document.getElementById("content-input").value=t.content,document.getElementById("difficulty-select").value=t.difficulty,document.getElementById("date-input").value=t.date})(a),e.addEventListener("click",()=>{const e=(()=>{const t=document.getElementById("name-input").value,e=document.getElementById("content-input").value,n=document.getElementById("difficulty-select").value,a=document.getElementById("date-input").value;return o.createTaskObj(t,e,n,a)})();e.todos=a.todos;const c=o.validateTaskInput(e);Array.isArray(c)||(s.removeTaskFromProject(t,a),s.addNewTaskToProject(t,e),n())})}}),l.closeBtn.addEventListener("click",()=>{document.getElementById("task-info-container").remove()}),l.deleteBtn.addEventListener("click",()=>{s.removeTaskFromProject(t,a),n()}),s.checkIfDateIsLate(t,a.name)&&(l.dateInfo.classList.add("date-field-warning"),l.dateInfo.title="Task is Late",l.dateInfo.textContent=a.date+" - Task is Late"),"Easy"===l.difficultyInfo.textContent?l.difficultyInfo.classList.add("easy-container"):"Medium"===l.difficultyInfo.textContent?l.difficultyInfo.classList.add("medium-container"):l.difficultyInfo.classList.add("hard-container")},e=()=>{s.removeWebpackStorageLog(),document.getElementById("new-project-btn")||r.newProjectBtn().addEventListener("click",()=>{c.newProjectForm().addEventListener("click",()=>{const t=document.getElementById("project-name").value;if(o.validateProjectInput(t))s.createNewProject(t),document.getElementById("project-form-container").remove(),document.getElementById("Invalid Project Name")&&document.getElementById("Invalid Project Name").remove(),e();else{const t="Invalid Project Name";document.getElementById(t)||r.renderWarningProjectMessage(t)}})}),Object.keys(localStorage).forEach(n=>{document.getElementById("project-"+o.convertToValidId(n))&&document.getElementById("project-"+o.convertToValidId(n)).remove(),r.renderProject(n).addEventListener("click",()=>{c.newTaskForm(n).addEventListener("click",()=>{(t=>{const e=document.getElementById("name-input").value,n=document.getElementById("content-input").value,a=document.getElementById("difficulty-select").value,c=document.getElementById("date-input").value,i=o.createTaskObj(e,n,a,c),l=o.validateTaskInput(i);if(Array.isArray(l)){if(document.getElementsByClassName("warning-message")){Array.from(document.getElementsByClassName("warning-message")).forEach(t=>{t.remove()})}return l.forEach(t=>r.renderWarningMessage(t)),!1}return s.addNewTaskToProject(t,i),document.getElementById("task-form-container").remove(),!0})(n)&&e()})}),JSON.parse(localStorage.getItem(n)).forEach(a=>{const i=JSON.parse(a);if(!i.status){const l=r.renderTask(n,i);l.completeBtn.addEventListener("click",()=>{((t,e)=>{s.changeTaskState(t,e)})(n,i.name),e()}),l.todoBtn.addEventListener("click",()=>{c.newTodoForm(n,i.name).addEventListener("click",()=>{const t=document.getElementById("todo-form-input").value;o.validateTodoInput(t)&&s.addNewTodoToTask(n,i,t)})}),i.todos.length>0&&i.todos.forEach(t=>{const[o]=JSON.parse(t);if(s.checkIfTodoIsCompleted(n,JSON.parse(a).name,o)){const o=r.renderCheckedTodo(n,i.name,t);o.checkBtn.addEventListener("click",()=>{s.changeTodoState(n,i.name,JSON.parse(t)[0]),e()}),o.checkBtn.classList.remove("complete-btn"),o.checkBtn.classList.add("uncomplete-btn"),o.checkBtn.parentElement.classList.add("completed-todo")}else{const o=r.renderTodo(n,i.name,t),[a]=JSON.parse(t);o.checkBtn.addEventListener("click",()=>{((t,e,n)=>{s.changeTodoState(t,e,n)})(n,i.name,a),e()}),o.deleteBtn.addEventListener("click",()=>{((t,e,n)=>{s.removeTodoFromTask(t,e,n)})(n,i.name,a),e()})}}),l.nameBtn.addEventListener("click",()=>{t(n,a,e)})}})})},n=()=>{s.removeWebpackStorageLog(),document.getElementById("new-project-btn")&&document.getElementById("new-project-btn").remove(),Object.keys(localStorage).forEach(t=>{document.getElementById("project-"+o.convertToValidId(t))&&document.getElementById("project-"+o.convertToValidId(t)).remove(),r.renderProject(t).remove(),JSON.parse(localStorage.getItem(t)).forEach(e=>{const o=JSON.parse(e);if(o.status){const e=r.renderTask(t,o);e.completeBtn.classList.remove("complete-btn"),e.completeBtn.classList.add("completed-btn"),e.completeBtn.addEventListener("click",()=>{s.changeTaskState(t,o.name),n()}),e.todoBtn.disabled=!0}})})};return e(),s.checkForProjectExistence()||r.noProjectWarning(),{displayTabContent:e,displayTabCompletedContent:n}})();var d={renderData:(t,e,n,o)=>{a.container("statistics-container","left-section","box");const c=a.container("statistics-completing-completed","statistics-container",["flex-grid","info-container"]);a.container(null,"statistics-completing-completed",["col-1","fa","fa-check","icon-good"]),a.container("statistics-completed-label","statistics-completing-completed",["col-9","side-info"]).textContent="Tasks Completed",a.container("statistics-completed-data","statistics-completing-completed","col-2").textContent=": "+t;const r=a.container("statistics-completing-uncompleted","statistics-container",["flex-grid","info-container"]);a.container(null,"statistics-completing-uncompleted",["col-1","fa","fa-times","icon-bad"]),a.container("statistics-uncompleted-label","statistics-completing-uncompleted",["col-9","side-info"]).textContent="Tasks Uncompleted",a.container("statistics-uncompleted-data","statistics-completing-uncompleted","col-2").textContent=": "+e;const i=a.container("statistics-completing-ontime","statistics-container",["flex-grid","info-container"]);a.container(null,"statistics-completing-ontime",["col-1","fa","fa-clock-o","icon-good"]),a.container("statistics-ontime-label","statistics-completing-ontime",["col-9","side-info"]).textContent="Tasks on Time",a.container("statistics-ontime-data","statistics-completing-ontime","col-2").textContent=": "+n;const s=a.container("statistics-completing-late","statistics-container",["flex-grid","info-container"]);return a.container(null,"statistics-completing-late",["col-1","fa","fa-bullhorn","icon-bad"]),a.container("statistics-lateTime-label","statistics-completing-late",["col-9","side-info"]).textContent="Late Tasks",a.container("statistics-lateTime-data","statistics-completing-late","col-2").textContent=": "+o,{completed:c,uncompleted:r,onTime:i,late:s}},displayInfo:t=>{a.container("info-"+t,"statistics-completing-completed","minibox").textContent=" - "+t}};(()=>{const t=s.gatherStorageData(),e=d.renderData(t.completed,t.uncompleted,t.onTime,t.lateTime);e.completed.addEventListener("click",()=>{s.gatherCompletedTasksNames().forEach(t=>{document.getElementById("info-"+t)||d.displayInfo(t)})}),e.uncompleted.addEventListener("click",()=>{})})(),s.removeWebpackStorageLog(),document.getElementById("todo-tab-btn").addEventListener("click",()=>{l.displayTabContent()}),document.getElementById("todo-tab-btn-completed").addEventListener("click",()=>{l.displayTabCompletedContent()})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy91c2VyRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy92aWV3cy9mb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3MvdG9kb1RhYi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N0b3JhZ2VIZWxwZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy90b2RvVGFiQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlld3Mvc2lkZUNvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXJzL3NpZGVDb250ZW50Q29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJjcmVhdGVUYXNrT2JqIiwidGFza05hbWUiLCJ0YXNrQ29udGVudCIsInRhc2tEaWZmaWN1bHR5IiwidGFza0RhdGUiLCJjb250ZW50IiwiZGlmZmljdWx0eSIsImRhdGUiLCJzdGF0dXMiLCJ0b2RvcyIsInZhbGlkYXRlUHJvamVjdElucHV0IiwiZGF0YSIsInRlc3QiLCJ2YWxpZGF0ZVRvZG9JbnB1dCIsInZhbGlkYXRlVGFza0lucHV0IiwiZm9ybUVycm9ycyIsInB1c2giLCJEYXRlIiwicGFyc2UiLCJsZW5ndGgiLCJjb252ZXJ0VG9WYWxpZElkIiwicmVwbGFjZSIsImNvbnRhaW5lciIsImVsZW1lbnRJZCIsImVsZW1lbnRQYXJlbnQiLCJlbGVtZW50Q2xhc3MiLCJlbGVtZW50IiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JFYWNoIiwiaXRlbSIsImNsYXNzTGlzdCIsImFkZCIsImdldEVsZW1lbnRCeUlkIiwiYXBwZW5kQ2hpbGQiLCJjbG9zZVRhYkJ0biIsInBhcmVudEVsZW1lbnQiLCJidG4iLCJ0ZXh0Q29udGVudCIsIm5ld1Byb2plY3RGb3JtIiwic3VibWl0QnRuIiwibmV3VGFza0Zvcm0iLCJwcm9qZWN0Iiwib3B0T25lIiwib3B0VHdvIiwib3B0VGhyZWUiLCJ0eXBlIiwibmV3VG9kb0Zvcm0iLCJyZW5kZXJXYXJuaW5nUHJvamVjdE1lc3NhZ2UiLCJtZXNzYWdlIiwidGV4Q29udGVudCIsInJlbmRlclByb2plY3QiLCJuZXdUYXNrQnRuIiwicmVuZGVyQ2hlY2tlZFRvZG8iLCJ0b2RvIiwiaWRTdHJpbmciLCJjaGVja0J0biIsInRvZG9EZXNjcmlwdGlvbiIsIkpTT04iLCJyZW5kZXJUYXNrIiwib2JqIiwiY29tcGxldGVUYXNrQnRuIiwibmFtZUJ0biIsInRvZG9CdG4iLCJjb21wbGV0ZUJ0biIsIm5ld1Byb2plY3RCdG4iLCJyZW5kZXJUb2RvIiwiZGVsZXRlQnRuIiwibm9Qcm9qZWN0V2FybmluZyIsIndhcm5pbmciLCJyZW5kZXJXYXJuaW5nTWVzc2FnZSIsInJlbmRlclRhc2tJbmZvIiwicHJvaiIsInRhc2tOYW1lSWQiLCJjbG9zZUJ0biIsImRpZmZpY3VsdHlJbmZvIiwiZGF0ZUluZm8iLCJlZGl0QnRuIiwic3RvcmFnZUhlbHBlcnMiLCJmaW5kRGF0YUluZGV4QnlLZXkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVzdWx0IiwiaW5kZXgiLCJyZXRyaWV2ZVRhc2tEYXRhIiwicmVtb3ZlVGFza0Zyb21Qcm9qZWN0IiwiYXJyYXkiLCJzcGxpY2UiLCJyZW1vdmVJdGVtIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImFkZE5ld1Rhc2tUb1Byb2plY3QiLCJ1bnNoaWZ0IiwiZ2V0VG9kb0luZGV4IiwidGFza0luZGV4Iiwic3RnIiwidGFzayIsInRvZG9JbmRleCIsImNoZWNrSWZEYXRlSXNMYXRlIiwibm93IiwiYWRkTmV3VG9kb1RvVGFzayIsImNyZWF0ZU5ld1Byb2plY3QiLCJyZW1vdmVUb2RvRnJvbVRhc2siLCJjaGVja0lmVG9kb0lzQ29tcGxldGVkIiwiZm91bmRUb2RvIiwiY2hhbmdlVG9kb1N0YXRlIiwiY2hhbmdlVGFza1N0YXRlIiwiY2hlY2tGb3JQcm9qZWN0RXhpc3RlbmNlIiwiZ2F0aGVyU3RvcmFnZURhdGEiLCJjb21wbGV0ZWRUYXNrcyIsInVuY29tcGxldGVkVGFza3MiLCJvblRpbWVUYXNrcyIsImxhdGVUYXNrcyIsImtleXMiLCJ0YXNrT2JqIiwiY29tcGxldGVkIiwidG9TdHJpbmciLCJ1bmNvbXBsZXRlZCIsIm9uVGltZSIsImxhdGVUaW1lIiwiZ2F0aGVyQ29tcGxldGVkVGFza3NOYW1lcyIsInJlbW92ZVdlYnBhY2tTdG9yYWdlTG9nIiwiZGlzcGxheUluZm9UYWIiLCJvYmpTdHIiLCJyZWxvYWQiLCJpbmZvIiwicmVtb3ZlIiwiYnRucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlZGl0VGFza0Zvcm0iLCJwbGFjZWhvbGREYXRhIiwiZXhwaXJpbmdEYXRlIiwiZ2F0aGVyRGF0YUZyb21Gb3JtIiwidmFsaWRhdGlvbiIsInRpdGxlIiwiZGlzcGxheVRhYkNvbnRlbnQiLCJmb3JtVmFsIiwidmFsaWRhdGUiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZnJvbSIsInN1Ym1pdFRhc2tGb3JtIiwidGFza0J0bnMiLCJjb21wbGV0ZVRhc2siLCJ2YWwiLCJkZXNjcmlwdGlvbiIsImNvbXBsZXRlVG9kbyIsImRlbGV0ZVRvZG8iLCJkaXNwbGF5VGFiQ29tcGxldGVkQ29udGVudCIsImRpc2FibGVkIiwicmVuZGVyRGF0YSIsImNvbXBsZXRlZERhdGEiLCJ1bmNvbXBsZXRlZERhdGEiLCJvblRpbWVEYXRhIiwibGF0ZVRpbWVEYXRhIiwibGF0ZSIsImRpc3BsYXlJbmZvIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9Z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SCxVQUN2RmxGLEVBQUk4RSxVQUFVYSxpQkFBaUIsUUFBUyxLQUN0QyxFQUFlUiw0QkFBNEIzRixRQUFTaEMsSUFDN0MyQixTQUFTUyxlQUFlLFFBQVFwQyxJQUNuQyxFQUFZOEosWUFBWTlKLE9BSTlCd0MsRUFBSWdGLFlBQVlXLGlCQUFpQixRQUFTLFNDUjFDLEdBQ0EsRUFBZVAsMEJBQ2ZqRyxTQUFTUyxlQUFlLGdCQUFnQitGLGlCQUFpQixRQUFTLEtBQ2hFLEVBQWtCTyxzQkFHcEIvRyxTQUFTUyxlQUFlLDBCQUEwQitGLGlCQUFpQixRQUFTLEtBQzFFLEVBQWtCbUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IHVzZXJEYXRhID0gKCgpID0+IHtcbiAgY29uc3QgY3JlYXRlVGFza09iaiA9ICh0YXNrTmFtZSwgdGFza0NvbnRlbnQsIHRhc2tEaWZmaWN1bHR5LCB0YXNrRGF0ZSkgPT4gKHtcbiAgICBuYW1lOiB0YXNrTmFtZSxcbiAgICBjb250ZW50OiB0YXNrQ29udGVudCxcbiAgICBkaWZmaWN1bHR5OiB0YXNrRGlmZmljdWx0eSxcbiAgICBkYXRlOiB0YXNrRGF0ZSxcbiAgICBzdGF0dXM6IGZhbHNlLFxuICAgIHRvZG9zOiBbXSxcbiAgfSk7XG5cbiAgY29uc3QgY29udmVydFRvVmFsaWRJZCA9IChkYXRhKSA9PiBkYXRhLnJlcGxhY2UoL1xccy9nLCAnLScpO1xuXG4gIC8vIGNvbnN0IGNvbnZlcnRJZFRvVGV4dCA9IChkYXRhKSA9PiBkYXRhLnJlcGxhY2UoLy0rL2csICcgJyk7XG5cbiAgY29uc3QgdmFsaWRhdGVQcm9qZWN0SW5wdXQgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IHZhbGlkRGF0YSA9IC9eW2EtekEtWl0vZztcbiAgICByZXR1cm4gdmFsaWREYXRhLnRlc3QoZGF0YSk7XG4gIH07XG5cbiAgY29uc3QgdmFsaWRhdGVUYXNrSW5wdXQgPSAoZGF0YSkgPT4ge1xuICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcblxuICAgIGlmICghL15bYS16QS1aXS8udGVzdChkYXRhLm5hbWUpKSB7IGZvcm1FcnJvcnMucHVzaCgnVGFzayBuYW1lIG11c3Qgc3RhcnQgd2l0aCBhbiBsZXR0ZXInKTsgfVxuICAgIGlmICghZGF0YS5jb250ZW50KSB7IGZvcm1FcnJvcnMucHVzaCgnVGFzayBjb250ZW50IG11c3QgZXhpc3QnKTsgfVxuICAgIGlmICghRGF0ZS5wYXJzZShkYXRhLmRhdGUpKSB7IGZvcm1FcnJvcnMucHVzaCgnSW52YWxpZCBEYXRlIGlucHV0Jyk7IH1cblxuICAgIGlmIChmb3JtRXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBmb3JtRXJyb3JzO1xuICAgIH1cbiAgICByZXR1cm4gJ3RydWUnO1xuICB9O1xuXG4gIGNvbnN0IHZhbGlkYXRlVG9kb0lucHV0ID0gKGRhdGEpID0+IC9eW2EtekEtWl0vLnRlc3QoZGF0YSk7XG5cbiAgcmV0dXJuIHtcbiAgICBjcmVhdGVUYXNrT2JqLCB2YWxpZGF0ZVByb2plY3RJbnB1dCwgdmFsaWRhdGVUb2RvSW5wdXQsIHZhbGlkYXRlVGFza0lucHV0LCBjb252ZXJ0VG9WYWxpZElkLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlckRhdGE7XG4iLCJpbXBvcnQgdXNlckRhdGEgZnJvbSAnLi4vbW9kZWxzL3VzZXJEYXRhJztcblxuY29uc3QgcmVuZGVyID0gKCgpID0+IHtcbiAgY29uc3QgY29udGFpbmVyID0gKGVsZW1lbnRJZCwgZWxlbWVudFBhcmVudCwgZWxlbWVudENsYXNzID0gbnVsbCwgZWxlbWVudCA9ICdkaXYnKSA9PiB7XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50KTtcbiAgICBpZiAoZWxlbWVudElkKSB7XG4gICAgICBkaXYuaWQgPSB1c2VyRGF0YS5jb252ZXJ0VG9WYWxpZElkKGVsZW1lbnRJZCk7XG4gICAgfVxuICAgIGVsZW1lbnRQYXJlbnQgPSB1c2VyRGF0YS5jb252ZXJ0VG9WYWxpZElkKGVsZW1lbnRQYXJlbnQpO1xuICAgIGlmIChlbGVtZW50Q2xhc3MpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnRDbGFzcykpIHtcbiAgICAgICAgZWxlbWVudENsYXNzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXYuY2xhc3NMaXN0LmFkZChlbGVtZW50Q2xhc3MpO1xuICAgICAgfVxuICAgIH1cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50UGFyZW50KS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIHJldHVybiBkaXY7XG4gIH07XG5cbiAgY29uc3QgY2xvc2VUYWJCdG4gPSAocGFyZW50RWxlbWVudCkgPT4ge1xuICAgIGNvbnRhaW5lcignY2xvc2UtYnRuLWNvbnRhaW5lcicsIHBhcmVudEVsZW1lbnQsICdmbGV4LWdyaWQnKTtcbiAgICBjb250YWluZXIobnVsbCwgJ2Nsb3NlLWJ0bi1jb250YWluZXInLCAnY29sLTEwJyk7XG4gICAgY29uc3QgYnRuID0gY29udGFpbmVyKG51bGwsICdjbG9zZS1idG4tY29udGFpbmVyJywgWydjb2wtMicsICdjbG9zZS1idXR0b24nXSwgJ2J1dHRvbicpO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9ICdYJztcbiAgICByZXR1cm4gYnRuO1xuICB9O1xuXG4gIHJldHVybiB7IGNvbnRhaW5lciwgY2xvc2VUYWJCdG4gfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IHJlbmRlcjtcbiIsImltcG9ydCByZW5kZXIgZnJvbSAnLi9yZW5kZXInO1xuXG5jb25zdCBmb3JtcyA9ICgoKSA9PiB7XG4gIGNvbnN0IG5ld1Byb2plY3RGb3JtID0gKCkgPT4ge1xuICAgIHJlbmRlci5jb250YWluZXIoJ3Byb2plY3QtZm9ybS1jb250YWluZXInLCAnbmV3LXByb2plY3QtYnRuLWNvbnRhaW5lcicsIFsnYm94JywgJ2NvbC0xMiddLCAnZGl2Jyk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcigncHJvamVjdC1mb3JtJywgJ3Byb2plY3QtZm9ybS1jb250YWluZXInLCBbJ2ZsZXgtZ3JpZCddLCAnZm9ybScpO1xuICAgIGNvbnN0IGxhYmVsID0gcmVuZGVyLmNvbnRhaW5lcigncCcsICdwcm9qZWN0LWZvcm0nLCBbJ2NvbC0xMiddLCAnbGFiZWwnKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9ICdQcm9qZWN0IE5hbWUnO1xuICAgIHJlbmRlci5jb250YWluZXIoJ3Byb2plY3QtbmFtZScsICdwcm9qZWN0LWZvcm0nLCBbJ2NvbC0xMiddLCAnaW5wdXQnKTtcbiAgICBjb25zdCBzdWJtaXRCdG4gPSByZW5kZXIuY29udGFpbmVyKCdwcm9qZWN0LXN1Ym1pdC1idG4nLCAncHJvamVjdC1mb3JtJywgWydjb2wtMTInLCAnYnRuLXByaW1hcnknXSk7XG4gICAgc3VibWl0QnRuLnRleHRDb250ZW50ID0gJ0NyZWF0ZSBQcm9qZWN0ISc7XG4gICAgcmV0dXJuIHN1Ym1pdEJ0bjtcbiAgfTtcblxuICBjb25zdCBuZXdUYXNrRm9ybSA9IChwcm9qZWN0KSA9PiB7XG4gICAgcmVuZGVyLmNvbnRhaW5lcigndGFzay1mb3JtLWNvbnRhaW5lcicsIHByb2plY3QsIFsnYm94J10pO1xuICAgIHJlbmRlci5jb250YWluZXIoJ3Rhc2stZm9ybS13YXJuaW5nLWNvbnRhaW5lcicsICd0YXNrLWZvcm0tY29udGFpbmVyJyk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcigndGFzay1mb3JtJywgJ3Rhc2stZm9ybS1jb250YWluZXInLCAnZmxleC1ncmlkJywgJ2Zvcm0nKTtcbiAgICByZW5kZXIuY29udGFpbmVyKCduYW1lLWxhYmVsJywgJ3Rhc2stZm9ybScsIFsnY29sLTEyJ10sICdsYWJlbCcpLnRleHRDb250ZW50ID0gJ05hbWUnO1xuICAgIHJlbmRlci5jb250YWluZXIoJ25hbWUtaW5wdXQnLCAndGFzay1mb3JtJywgWydjb2wtMTInXSwgJ2lucHV0Jyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZm9ybScpLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xuXG4gICAgcmVuZGVyLmNvbnRhaW5lcignY29udGVudC1sYWJlbCcsICd0YXNrLWZvcm0nLCBbJ2NvbC0xMiddLCAnbGFiZWwnKS50ZXh0Q29udGVudCA9ICdDb250ZW50JztcbiAgICByZW5kZXIuY29udGFpbmVyKCdjb250ZW50LWlucHV0JywgJ3Rhc2stZm9ybScsIFsnY29sLTEyJ10sICd0ZXh0YXJlYScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWZvcm0nKS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpKTtcblxuICAgIHJlbmRlci5jb250YWluZXIoJ2RpZmZpY3VsdHktbGFiZWwnLCAndGFzay1mb3JtJywgWydjb2wtMTInXSwgJ2xhYmVsJykudGV4dENvbnRlbnQgPSAnRGlmZmljdWx0eSc7XG4gICAgcmVuZGVyLmNvbnRhaW5lcignZGlmZmljdWx0eS1zZWxlY3QnLCAndGFzay1mb3JtJywgWydjb2wtMTInXSwgJ3NlbGVjdCcpO1xuICAgIGNvbnN0IG9wdE9uZSA9IHJlbmRlci5jb250YWluZXIoJ2RpZmZpY3VsdHktb3B0aW9uLTEnLCAnZGlmZmljdWx0eS1zZWxlY3QnLCBudWxsLCAnb3B0aW9uJyk7XG4gICAgb3B0T25lLnRleHRDb250ZW50ID0gJ0Vhc3knO1xuICAgIG9wdE9uZS52YWx1ZSA9ICdFYXN5JztcbiAgICBjb25zdCBvcHRUd28gPSByZW5kZXIuY29udGFpbmVyKCdkaWZmaWN1bHR5LW9wdGlvbi0yJywgJ2RpZmZpY3VsdHktc2VsZWN0JywgbnVsbCwgJ29wdGlvbicpO1xuICAgIG9wdFR3by50ZXh0Q29udGVudCA9ICdNZWRpdW0nO1xuICAgIG9wdFR3by52YWx1ZSA9ICdNZWRpdW0nO1xuICAgIGNvbnN0IG9wdFRocmVlID0gcmVuZGVyLmNvbnRhaW5lcignZGlmZmljdWx0eS1vcHRpb24tMycsICdkaWZmaWN1bHR5LXNlbGVjdCcsIG51bGwsICdvcHRpb24nKTtcbiAgICBvcHRUaHJlZS50ZXh0Q29udGVudCA9ICdIYXJkJztcbiAgICBvcHRUaHJlZS52YWx1ZSA9ICdIYXJkJztcbiAgICByZW5kZXIuY29udGFpbmVyKCdkYXRlLWxhYmVsJywgJ3Rhc2stZm9ybScsIG51bGwsICdsYWJlbCcpO1xuICAgIGNvbnN0IGRhdGVQaWNrID0gcmVuZGVyLmNvbnRhaW5lcignZGF0ZS1pbnB1dCcsICd0YXNrLWZvcm0nLCBbJ2NvbC02J10sICdpbnB1dCcpO1xuICAgIGRhdGVQaWNrLnR5cGUgPSAnZGF0ZSc7XG4gICAgY29uc3Qgc3VibWl0QnRuID0gcmVuZGVyLmNvbnRhaW5lcigndGFzay1zdWJtaXQnLCAndGFzay1mb3JtJywgWydjb2wtNicsICdzdWJtaXQtYnRuJ10sICdkaXYnKTtcbiAgICBzdWJtaXRCdG4udGV4dENvbnRlbnQgPSAnU3VibWl0JztcbiAgICByZXR1cm4gc3VibWl0QnRuO1xuICB9O1xuXG4gIGNvbnN0IG5ld1RvZG9Gb3JtID0gKHByb2plY3QsIHRhc2tOYW1lKSA9PiB7XG4gICAgcmVuZGVyLmNvbnRhaW5lcigndG9kby1mb3JtLWNvbnRhaW5lcicsIGB0YXNrLSR7cHJvamVjdH0tJHt0YXNrTmFtZX0tdG9kby1idXR0b24tY29udGFpbmVyYCwgWydmbGV4LWdyaWQnXSwgJ2Zvcm0nKTtcbiAgICByZW5kZXIuY29udGFpbmVyKCd0b2RvLWZvcm0tbGFiZWwnLCAndG9kby1mb3JtLWNvbnRhaW5lcicsIG51bGwsICdsYWJlbCcpO1xuICAgIHJlbmRlci5jb250YWluZXIoJ3RvZG8tZm9ybS1pbnB1dCcsICd0b2RvLWZvcm0tY29udGFpbmVyJywgbnVsbCwgJ2lucHV0Jyk7XG4gICAgY29uc3Qgc3VibWl0QnRuID0gcmVuZGVyLmNvbnRhaW5lcigndG9kby1mb3JtLXN1Ym1pdCcsICd0b2RvLWZvcm0tY29udGFpbmVyJywgbnVsbCwgJ2lucHV0Jyk7XG4gICAgc3VibWl0QnRuLnZhbHVlID0gJ0NyZWF0ZSBUb2RvJztcbiAgICBzdWJtaXRCdG4udHlwZSA9ICdzdWJtaXQnO1xuICAgIHJldHVybiBzdWJtaXRCdG47XG4gIH07XG4gIHJldHVybiB7IG5ld1Byb2plY3RGb3JtLCBuZXdUYXNrRm9ybSwgbmV3VG9kb0Zvcm0gfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1zO1xuIiwiaW1wb3J0IHJlbmRlciBmcm9tICcuL3JlbmRlcic7XG5cbmNvbnN0IHRvZG9UYWIgPSAoKCkgPT4ge1xuICBjb25zdCByZW5kZXJQcm9qZWN0ID0gKGVsZW1lbnRJZCkgPT4ge1xuICAgIHJlbmRlci5jb250YWluZXIoYHByb2plY3QtJHtlbGVtZW50SWR9YCwgJ2NvbnRlbnQtc2VjdGlvbicsIFsnYm94JywgJ3dob2xlLXByb2plY3QtY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIoYHByb2plY3QtJHtlbGVtZW50SWR9LWNvbnRhaW5lcmAsIGBwcm9qZWN0LSR7ZWxlbWVudElkfWAsIFsnZmxleC1ncmlkJywgJ3Byb2plY3QtY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIoYHByb2plY3QtJHtlbGVtZW50SWR9LW5hbWVgLCBgcHJvamVjdC0ke2VsZW1lbnRJZH0tY29udGFpbmVyYCwgWydjb2wtMTInLCAnY29sLW0tMTAnXSk7XG4gICAgY29uc3QgdGV4dCA9IHJlbmRlci5jb250YWluZXIoZWxlbWVudElkLCBgcHJvamVjdC0ke2VsZW1lbnRJZH0tbmFtZWAsIFsnbWluaWJveCcsICdjZW50ZXInXSwgJ2gyJyk7XG4gICAgdGV4dC50ZXh0Q29udGVudCA9IGVsZW1lbnRJZDtcbiAgICBjb25zdCBuZXdUYXNrQnRuID0gcmVuZGVyLmNvbnRhaW5lcihgcHJvamVjdC0ke2VsZW1lbnRJZH0tYnV0dG9uYCwgYHByb2plY3QtJHtlbGVtZW50SWR9LWNvbnRhaW5lcmAsIFsnY29sLTInLCAnbWluaWJveCcsICduby1tYXJnaW4nLCAnbmV3LXRhc2stYnRuJ10sICdidXR0b24nKTtcbiAgICByZW5kZXIuY29udGFpbmVyKG51bGwsIGBwcm9qZWN0LSR7ZWxlbWVudElkfS1idXR0b25gLCBbJ21pbmlib3gnXSkudGV4dENvbnRlbnQgPSAnQWRkIE5ldyBUYXNrJztcbiAgICByZXR1cm4gbmV3VGFza0J0bjtcbiAgfTtcblxuICBjb25zdCByZW5kZXJXYXJuaW5nUHJvamVjdE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIHJlbmRlci5jb250YWluZXIobWVzc2FnZSwgJ3Byb2plY3QtZm9ybS1jb250YWluZXInLCBbJ2NvbC0xMicsICd3YXJuaW5nLW1lc3NhZyddKS50ZXhDb250ZW50ID0gbWVzc2FnZTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJXYXJuaW5nTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihtZXNzYWdlLCAndGFzay1mb3JtLXdhcm5pbmctY29udGFpbmVyJywgWydjb2wtMTInLCAnd2FybmluZy1tZXNzYWdlJ10pLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUYXNrSW5mbyA9IChwcm9qLCBvYmopID0+IHtcbiAgICBjb25zdCBpZFN0cmluZyA9IGB0YXNrLWluZm8tJHtwcm9qfS0ke29iai5uYW1lfWA7XG4gICAgY29uc3QgdGFza05hbWVJZCA9IGB0YXNrLSR7cHJvan0tJHtvYmoubmFtZX1gO1xuICAgIHJlbmRlci5jb250YWluZXIoJ3Rhc2staW5mby1jb250YWluZXInLCBgJHt0YXNrTmFtZUlkfWAsIFsnYm94JywgJ2luZm8nXSk7XG4gICAgY29uc3QgY2xvc2VCdG4gPSByZW5kZXIuY2xvc2VUYWJCdG4oJ3Rhc2staW5mby1jb250YWluZXInKTtcbiAgICByZW5kZXIuY29udGFpbmVyKG51bGwsICd0YXNrLWluZm8tY29udGFpbmVyJywgJ3Rhc2stZGVzY3JpcHRpb24nLCAncCcpLnRleHRDb250ZW50ID0gb2JqLmNvbnRlbnQ7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tZGlmZmljdWx0eS1jb250YWluZXJgLCAndGFzay1pbmZvLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGRpZmZpY3VsdHlJbmZvID0gcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tZGlmZmljdWx0eWAsIGAke2lkU3RyaW5nfS1kaWZmaWN1bHR5LWNvbnRhaW5lcmApO1xuICAgIGRpZmZpY3VsdHlJbmZvLnRleHRDb250ZW50ID0gb2JqLmRpZmZpY3VsdHk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tZGF0ZS1jb250YWluZXJgLCAndGFzay1pbmZvLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGRhdGVJbmZvID0gcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tZGF0ZWAsIGAke2lkU3RyaW5nfS1kYXRlLWNvbnRhaW5lcmApO1xuICAgIGRhdGVJbmZvLnRleHRDb250ZW50ID0gb2JqLmRhdGU7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tYnRuLWNvbnRhaW5lcmAsICd0YXNrLWluZm8tY29udGFpbmVyJywgWydmbGV4LWdyaWQnXSk7XG4gICAgY29uc3QgZWRpdEJ0biA9IHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LWJ0bi1lZGl0YCwgYCR7aWRTdHJpbmd9LWJ0bi1jb250YWluZXJgLCBbJ2NvbC02JywgJ2J0bi1lZGl0J10sICdidXR0b24nKTtcbiAgICBlZGl0QnRuLnRleHRDb250ZW50ID0gJ0VkaXQnO1xuICAgIGNvbnN0IGRlbGV0ZUJ0biA9IHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LWJ0bi1kZWxldGVgLCBgJHtpZFN0cmluZ30tYnRuLWNvbnRhaW5lcmAsIFsnY29sLTYnLCAnYnRuLWRhbmdlciddLCAnYnV0dG9uJyk7XG4gICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gJ0RlbGV0ZSc7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsb3NlQnRuLFxuICAgICAgZWRpdEJ0bixcbiAgICAgIGRlbGV0ZUJ0bixcbiAgICAgIGRpZmZpY3VsdHlJbmZvLFxuICAgICAgZGF0ZUluZm8sXG4gICAgfTtcbiAgfTtcblxuICBjb25zdCByZW5kZXJUYXNrID0gKHByb2plY3QsIG9iaikgPT4ge1xuICAgIGNvbnN0IGlkU3RyaW5nID0gYHRhc2stJHtwcm9qZWN0fS0ke29iai5uYW1lfWA7XG5cbiAgICByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfWAsIGBwcm9qZWN0LSR7cHJvamVjdH1gLCBbJ3Rhc2stY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LWNvbnRhaW5lcmAsIGB0YXNrLSR7cHJvamVjdH0tJHtvYmoubmFtZX1gLCBbJ2ZsZXgtZ3JpZCddKTtcbiAgICByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS1jb21wbGV0ZS10YXNrLWNvbnRhaW5lcmAsIGAke2lkU3RyaW5nfS1jb250YWluZXJgLCBbJ2NvbC0xJywgJ21pbmlib3gnLCAnbm8tYm91bmRzJ10pO1xuICAgIGNvbnN0IGNvbXBsZXRlVGFza0J0biA9IHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LWNvbXBsZXRlLXRhc2stYnRuYCwgYCR7aWRTdHJpbmd9LWNvbXBsZXRlLXRhc2stY29udGFpbmVyYCwgWydjb21wbGV0ZS1idG4nLCAnbWluaWJveCddLCAnYnV0dG9uJyk7XG4gICAgY29uc3QgbmFtZUJ0biA9IHJlbmRlci5jb250YWluZXIoJ3tpZFN0cmluZ30tY29udGVudC10YXNrLW5hbWUnLCBgJHtpZFN0cmluZ30tY29udGFpbmVyYCwgWydjb2wtMTAnLCAnbWluaWJveCcsICduby1ib3VuZHMnLCAndGFzay1uYW1lJ10pO1xuICAgIG5hbWVCdG4udGV4dENvbnRlbnQgPSBvYmoubmFtZTtcbiAgICByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS10b2RvLWJ1dHRvbi1jb250YWluZXJgLCBgJHtpZFN0cmluZ30tY29udGFpbmVyYCwgWydjb2wtMScsICdtaW5pYm94JywgJ2VuZCcsICduby1ib3VuZHMnXSk7XG4gICAgY29uc3QgdG9kb0J0biA9IHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LXRvZG8tYnV0dG9uYCwgYCR7aWRTdHJpbmd9LXRvZG8tYnV0dG9uLWNvbnRhaW5lcmAsIFsnbm8tYm91bmRzJywgJ2J0bi10b2RvJ10pO1xuICAgIHRvZG9CdG4udGV4dENvbnRlbnQgPSAnKyBUb2RvJztcbiAgICByZW5kZXIuY29udGFpbmVyKG51bGwsIGAke2lkU3RyaW5nfS1jb250YWluZXJgLCAnY29sLTEnKTtcbiAgICByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS10b2RvLWNvbnRhaW5lcmAsIGAke2lkU3RyaW5nfS1jb250YWluZXJgLCAnY29sLTExJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvZG9CdG4sXG4gICAgICBuYW1lQnRuLFxuICAgICAgLy8gZWRpdEJ0bixcbiAgICAgIC8vIGRlbGV0ZUJ0bixcbiAgICAgIGNvbXBsZXRlQnRuOiBjb21wbGV0ZVRhc2tCdG4sXG4gICAgICAvLyBkYXRlSW5mbyxcbiAgICAgIC8vIGRpZmZpY3VsdHlJbmZvLFxuICAgIH07XG4gIH07XG5cbiAgY29uc3QgcmVuZGVyVG9kbyA9IChwcm9qZWN0LCB0YXNrTmFtZSwgdG9kbykgPT4ge1xuICAgIGNvbnN0IGlkU3RyaW5nID0gYHRhc2stJHtwcm9qZWN0fS0ke3Rhc2tOYW1lfS0ke3RvZG99YDtcbiAgICByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS10b2RvYCwgYHRhc2stJHtwcm9qZWN0fS0ke3Rhc2tOYW1lfS10b2RvLWNvbnRhaW5lcmAsIFsnZmxleC1ncmlkJywgJ3RvZG8tY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LXRvZG8tY29udGFpbmVyLWNvbXBsZXRlLWJ1dHRvbi1jb250YWluZXJgLCBgJHtpZFN0cmluZ30tdG9kb2AsICdjb2wtMScpO1xuICAgIGNvbnN0IGNoZWNrQnRuID0gcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tdG9kby1jb250YWluZXItYnV0dG9uYCwgYCR7aWRTdHJpbmd9LXRvZG8tY29udGFpbmVyLWNvbXBsZXRlLWJ1dHRvbi1jb250YWluZXJgLCAnY29tcGxldGUtYnRuJywgJ2J1dHRvbicpO1xuICAgIGNvbnN0IFt0b2RvRGVzY3JpcHRpb25dID0gSlNPTi5wYXJzZSh0b2RvKTtcbiAgICByZW5kZXIuY29udGFpbmVyKGB0b2RvLSR7cHJvamVjdH0tJHt0YXNrTmFtZX0tJHt0b2RvfS10b2RvLWNvbnRhaW5lci1kZXNjcmlwdGlvbmAsIGB0YXNrLSR7cHJvamVjdH0tJHt0YXNrTmFtZX0tJHt0b2RvfS10b2RvYCwgJ2NvbC0xMCcpLnRleHRDb250ZW50ID0gdG9kb0Rlc2NyaXB0aW9uO1xuICAgIHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LXRvZG8tY29udGFpbmVyLWRlbGV0ZS1idXR0b24tY29udGFpbmVyYCwgYCR7aWRTdHJpbmd9LXRvZG9gLCAnY29sLTEnKTtcbiAgICBjb25zdCBkZWxldGVCdG4gPSByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS10b2RvLWNvbnRhaW5lci1kZWxldGUtYnV0dG9uYCwgYCR7aWRTdHJpbmd9LXRvZG8tY29udGFpbmVyLWRlbGV0ZS1idXR0b24tY29udGFpbmVyYCwgJ3NvZnQtYnV0dG9uJyk7XG4gICAgZGVsZXRlQnRuLnRleHRDb250ZW50ID0gJ1gnO1xuICAgIHJldHVybiB7XG4gICAgICBjaGVja0J0bixcbiAgICAgIGRlbGV0ZUJ0bixcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckNoZWNrZWRUb2RvID0gKHByb2plY3QsIHRhc2tOYW1lLCB0b2RvKSA9PiB7XG4gICAgY29uc3QgaWRTdHJpbmcgPSBgdGFzay0ke3Byb2plY3R9LSR7dGFza05hbWV9LSR7dG9kb31gO1xuICAgIHJlbmRlci5jb250YWluZXIoYCR7aWRTdHJpbmd9LXRvZG9gLCBgdGFzay0ke3Byb2plY3R9LSR7dGFza05hbWV9LXRvZG8tY29udGFpbmVyYCwgWydmbGV4LWdyaWQnLCAnY29tcGxldGVkLXRvZG8nXSk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihgJHtpZFN0cmluZ30tdG9kby1jb250YWluZXItY29tcGxldGUtYnV0dG9uLWNvbnRhaW5lcmAsIGAke2lkU3RyaW5nfS10b2RvYCwgJ2NvbC0xJyk7XG4gICAgY29uc3QgY2hlY2tCdG4gPSByZW5kZXIuY29udGFpbmVyKGAke2lkU3RyaW5nfS10b2RvLWNvbnRhaW5lci1idXR0b25gLCBgJHtpZFN0cmluZ30tdG9kby1jb250YWluZXItY29tcGxldGUtYnV0dG9uLWNvbnRhaW5lcmAsICdjb21wbGV0ZS1idG4nLCAnYnV0dG9uJyk7XG4gICAgY29uc3QgW3RvZG9EZXNjcmlwdGlvbl0gPSBKU09OLnBhcnNlKHRvZG8pO1xuICAgIHJlbmRlci5jb250YWluZXIoYHRvZG8tJHtwcm9qZWN0fS0ke3Rhc2tOYW1lfS0ke3RvZG99LXRvZG8tY29udGFpbmVyLWRlc2NyaXB0aW9uYCwgYHRhc2stJHtwcm9qZWN0fS0ke3Rhc2tOYW1lfS0ke3RvZG99LXRvZG9gLCAnY29sLTEwJykudGV4dENvbnRlbnQgPSB0b2RvRGVzY3JpcHRpb247XG4gICAgcmV0dXJuIHsgY2hlY2tCdG4gfTtcbiAgfTtcblxuICBjb25zdCBuZXdQcm9qZWN0QnRuID0gKCkgPT4ge1xuICAgIHJlbmRlci5jb250YWluZXIoJ25ldy1wcm9qZWN0LWJ0bi1jb250YWluZXInLCAnY29udGVudC1zZWN0aW9uJywgWydmbGV4LWdyaWQnLCAnY2VudGVyJ10pO1xuICAgIGNvbnN0IGJ0biA9IHJlbmRlci5jb250YWluZXIoJ25ldy1wcm9qZWN0LWJ0bicsICduZXctcHJvamVjdC1idG4tY29udGFpbmVyJywgWyduZXctcHJvamVjdC1idG4nXSwgJ2J1dHRvbicpO1xuICAgIGJ0bi50ZXh0Q29udGVudCA9ICcrJztcbiAgICByZXR1cm4gKGJ0bik7XG4gIH07XG5cbiAgY29uc3Qgbm9Qcm9qZWN0V2FybmluZyA9ICgpID0+IHtcbiAgICBjb25zdCB3YXJuaW5nID0gcmVuZGVyLmNvbnRhaW5lcignbm8tcHJvamVjdC13YXJuaW5nJywgJ2NvbnRlbnQtc2VjdGlvbicsIFsnbm8tcHJvamVjdC13YXJuaW5nJ10pO1xuICAgIHdhcm5pbmcudGV4dENvbnRlbnQgPSAnTm90aGluZyB0byBkaXNwbGF5IGhlcmUuIFByZXNzIFwiK1wiIHRvIGNyZWF0ZSBhIG5ldyBwcm9qZWN0JztcbiAgICByZXR1cm4gd2FybmluZztcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHJlbmRlcldhcm5pbmdQcm9qZWN0TWVzc2FnZSxcbiAgICByZW5kZXJQcm9qZWN0LFxuICAgIHJlbmRlckNoZWNrZWRUb2RvLFxuICAgIHJlbmRlclRhc2ssXG4gICAgbmV3UHJvamVjdEJ0bixcbiAgICByZW5kZXJUb2RvLFxuICAgIG5vUHJvamVjdFdhcm5pbmcsXG4gICAgcmVuZGVyV2FybmluZ01lc3NhZ2UsXG4gICAgcmVuZGVyVGFza0luZm8sXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCB0b2RvVGFiO1xuIiwiY29uc3Qgc3RvcmFnZUhlbHBlcnMgPSAoKCkgPT4ge1xuICBjb25zdCBjcmVhdGVOZXdQcm9qZWN0ID0gKGtleSkgPT4ge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoW10pKTtcbiAgfTtcblxuICBjb25zdCBjaGVja0ZvclByb2plY3RFeGlzdGVuY2UgPSAoKSA9PiB7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZVdlYnBhY2tTdG9yYWdlTG9nID0gKCkgPT4ge1xuICAgIGNvbnN0IFJFTU9WRSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdsb2dsZXZlbDp3ZWJwYWNrLWRldi1zZXJ2ZXInKTtcbiAgICBpZiAoUkVNT1ZFKSB7XG4gICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbG9nbGV2ZWw6d2VicGFjay1kZXYtc2VydmVyJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZpbmREYXRhSW5kZXhCeUtleSA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgbGV0IHJlc3VsdCA9IC0xO1xuICAgIEpTT04ucGFyc2UoaXRlbSkuZm9yRWFjaCgoZGF0YSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICBpZiAodmFsdWUgPT09IG9iai5uYW1lKSB7XG4gICAgICAgIHJlc3VsdCA9IGluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgY29uc3QgcmV0cmlldmVUYXNrRGF0YSA9IChrZXksIHRhc2tOYW1lKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UocHJvamVjdFtmaW5kRGF0YUluZGV4QnlLZXkoa2V5LCB0YXNrTmFtZSldKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVUYXNrRnJvbVByb2plY3QgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IGFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICBhcnJheS5zcGxpY2UoZmluZERhdGFJbmRleEJ5S2V5KGtleSwgdmFsdWUpLCAxKTtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoYXJyYXkpKTtcbiAgfTtcblxuICBjb25zdCBhZGROZXdUYXNrVG9Qcm9qZWN0ID0gKGtleSwgb2JqKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICBpdGVtLnVuc2hpZnQoSlNPTi5zdHJpbmdpZnkob2JqKSk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gIH07XG5cbiAgY29uc3QgYWRkTmV3VG9kb1RvVGFzayA9IChrZXksIG9iaiwgdG9kbykgPT4ge1xuICAgIGNvbnN0IHRhc2tJbmRleCA9IGZpbmREYXRhSW5kZXhCeUtleShrZXksIG9iai5uYW1lKTtcbiAgICBpZiAodGFza0luZGV4ICE9PSAtMSkge1xuICAgICAgY29uc3QgcHJvamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgICBjb25zdCB0YXNrID0gSlNPTi5wYXJzZShwcm9qZWN0W3Rhc2tJbmRleF0pO1xuICAgICAgdGFzay50b2Rvcy5wdXNoKEpTT04uc3RyaW5naWZ5KFt0b2RvLCBmYWxzZV0pKTtcbiAgICAgIHJlbW92ZVRhc2tGcm9tUHJvamVjdChrZXksIG9iai5uYW1lKTtcbiAgICAgIGFkZE5ld1Rhc2tUb1Byb2plY3Qoa2V5LCB0YXNrKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0VG9kb0luZGV4ID0gKGtleSwgdGFza05hbWUsIHRvZG8pID0+IHtcbiAgICBjb25zdCB0YXNrSW5kZXggPSBzdG9yYWdlSGVscGVycy5maW5kRGF0YUluZGV4QnlLZXkoa2V5LCB0YXNrTmFtZSk7XG4gICAgY29uc3Qgc3RnID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICBjb25zdCB0YXNrID0gSlNPTi5wYXJzZShzdGdbdGFza0luZGV4XSk7XG4gICAgbGV0IHRvZG9JbmRleCA9IC0xO1xuICAgIHRhc2sudG9kb3MuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChKU09OLnBhcnNlKGl0ZW0pWzBdID09PSB0b2RvKSB7XG4gICAgICAgIHRvZG9JbmRleCA9IGluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0b2RvSW5kZXg7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlVG9kb0Zyb21UYXNrID0gKGtleSwgdGFza05hbWUsIHRvZG9EZXNjcmlwdGlvbikgPT4ge1xuICAgIGNvbnN0IHRhc2sgPSByZXRyaWV2ZVRhc2tEYXRhKGtleSwgdGFza05hbWUpO1xuICAgIHRhc2sudG9kb3Muc3BsaWNlKGdldFRvZG9JbmRleChrZXksIHRhc2tOYW1lLCB0b2RvRGVzY3JpcHRpb24pLCAxKTtcbiAgICByZW1vdmVUYXNrRnJvbVByb2plY3Qoa2V5LCB0YXNrTmFtZSk7XG4gICAgYWRkTmV3VGFza1RvUHJvamVjdChrZXksIHRhc2spO1xuICB9O1xuXG4gIGNvbnN0IGNoZWNrSWZUb2RvSXNDb21wbGV0ZWQgPSAoa2V5LCB0YXNrTmFtZSwgdG9kbykgPT4ge1xuICAgIGNvbnN0IHRhc2tJbmRleCA9IHN0b3JhZ2VIZWxwZXJzLmZpbmREYXRhSW5kZXhCeUtleShrZXksIHRhc2tOYW1lKTtcbiAgICBjb25zdCBwcm9qZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcbiAgICBjb25zdCB0YXNrID0gSlNPTi5wYXJzZShwcm9qZWN0W3Rhc2tJbmRleF0pO1xuICAgIGNvbnN0IGZvdW5kVG9kbyA9IHRhc2sudG9kb3NbZ2V0VG9kb0luZGV4KGtleSwgdGFza05hbWUsIHRvZG8pXTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShmb3VuZFRvZG8pWzFdO1xuICB9O1xuXG4gIGNvbnN0IGNoYW5nZVRhc2tTdGF0ZSA9IChrZXksIHRhc2tOYW1lKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgY29uc3QgdGFzayA9IEpTT04ucGFyc2UocHJvamVjdFtmaW5kRGF0YUluZGV4QnlLZXkoa2V5LCB0YXNrTmFtZSldKTtcbiAgICBpZiAodGFzay5zdGF0dXMpIHtcbiAgICAgIHRhc2suc3RhdHVzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhc2suc3RhdHVzID0gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlVGFza0Zyb21Qcm9qZWN0KGtleSwgdGFza05hbWUpO1xuICAgIGFkZE5ld1Rhc2tUb1Byb2plY3Qoa2V5LCB0YXNrKTtcbiAgfTtcblxuICBjb25zdCBjaGFuZ2VUb2RvU3RhdGUgPSAoa2V5LCB0YXNrTmFtZSwgdG9kb0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7XG4gICAgY29uc3QgdGFzayA9IEpTT04ucGFyc2UocHJvamVjdFtzdG9yYWdlSGVscGVycy5maW5kRGF0YUluZGV4QnlLZXkoa2V5LCB0YXNrTmFtZSldKTtcbiAgICBsZXQgdG9kbyA9IHRhc2sudG9kb3Muc3BsaWNlKHN0b3JhZ2VIZWxwZXJzLmdldFRvZG9JbmRleChrZXksIHRhc2tOYW1lLCB0b2RvRGVzY3JpcHRpb24pLCAxKTtcbiAgICB0b2RvID0gSlNPTi5wYXJzZSh0b2RvKTtcbiAgICBpZiAodG9kb1sxXSA9PT0gZmFsc2UpIHtcbiAgICAgIHRvZG9bMV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0b2RvWzFdID0gZmFsc2U7XG4gICAgfVxuICAgIHRhc2sudG9kb3MucHVzaChKU09OLnN0cmluZ2lmeSh0b2RvKSk7XG4gICAgcmVtb3ZlVGFza0Zyb21Qcm9qZWN0KGtleSwgdGFza05hbWUpO1xuICAgIGFkZE5ld1Rhc2tUb1Byb2plY3Qoa2V5LCB0YXNrKTtcbiAgfTtcblxuICBjb25zdCBjaGVja0lmRGF0ZUlzTGF0ZSA9IChrZXksIHRhc2tOYW1lKSA9PiB7XG4gICAgY29uc3QgdGFzayA9IHJldHJpZXZlVGFza0RhdGEoa2V5LCB0YXNrTmFtZSk7XG4gICAgaWYgKERhdGUucGFyc2UodGFzay5kYXRlKSA8IERhdGUubm93KCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgZ2F0aGVyQ29tcGxldGVkVGFza3NOYW1lcyA9ICgpID0+IHtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iaiA9IEpTT04ucGFyc2UodGFzayk7XG4gICAgICAgIGlmICh0YXNrT2JqLnN0YXR1cyA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGFycmF5LnB1c2godGFza09iai5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgcmV0dXJuIFtcIlRoZXJlIGlzbid0IGFueSBjb21wbGV0ZWQgdGFza3NcIl07XG4gIH07XG5cbiAgY29uc3QgZ2F0aGVyU3RvcmFnZURhdGEgPSAoKSA9PiB7XG4gICAgbGV0IGNvbXBsZXRlZFRhc2tzID0gMDtcbiAgICBsZXQgdW5jb21wbGV0ZWRUYXNrcyA9IDA7XG4gICAgbGV0IG9uVGltZVRhc2tzID0gMDtcbiAgICBsZXQgbGF0ZVRhc2tzID0gMDtcbiAgICBPYmplY3Qua2V5cyhsb2NhbFN0b3JhZ2UpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKS5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmogPSBKU09OLnBhcnNlKHRhc2spO1xuICAgICAgICBpZiAodGFza09iai5zdGF0dXMgPT09IHRydWUpIHtcbiAgICAgICAgICBjb21wbGV0ZWRUYXNrcyArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVuY29tcGxldGVkVGFza3MgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hlY2tJZkRhdGVJc0xhdGUoa2V5LCB0YXNrT2JqLm5hbWUpKSB7XG4gICAgICAgICAgaWYgKHRhc2tPYmouc3RhdHVzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgbGF0ZVRhc2tzICs9IDE7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uVGltZVRhc2tzICs9IDE7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICBjb21wbGV0ZWQ6IGNvbXBsZXRlZFRhc2tzLnRvU3RyaW5nKCksXG4gICAgICB1bmNvbXBsZXRlZDogdW5jb21wbGV0ZWRUYXNrcy50b1N0cmluZygpLFxuICAgICAgb25UaW1lOiBvblRpbWVUYXNrcy50b1N0cmluZygpLFxuICAgICAgbGF0ZVRpbWU6IGxhdGVUYXNrcy50b1N0cmluZygpLFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBhZGROZXdUYXNrVG9Qcm9qZWN0LFxuICAgIGFkZE5ld1RvZG9Ub1Rhc2ssXG4gICAgY3JlYXRlTmV3UHJvamVjdCxcbiAgICByZW1vdmVUYXNrRnJvbVByb2plY3QsXG4gICAgcmVtb3ZlVG9kb0Zyb21UYXNrLFxuICAgIGZpbmREYXRhSW5kZXhCeUtleSxcbiAgICBnZXRUb2RvSW5kZXgsXG4gICAgY2hlY2tJZlRvZG9Jc0NvbXBsZXRlZCxcbiAgICBjaGFuZ2VUb2RvU3RhdGUsXG4gICAgY2hhbmdlVGFza1N0YXRlLFxuICAgIGNoZWNrRm9yUHJvamVjdEV4aXN0ZW5jZSxcbiAgICByZXRyaWV2ZVRhc2tEYXRhLFxuICAgIGdhdGhlclN0b3JhZ2VEYXRhLFxuICAgIGNoZWNrSWZEYXRlSXNMYXRlLFxuICAgIGdhdGhlckNvbXBsZXRlZFRhc2tzTmFtZXMsXG4gICAgcmVtb3ZlV2VicGFja1N0b3JhZ2VMb2csXG4gIH07XG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBzdG9yYWdlSGVscGVycztcbiIsImltcG9ydCBmb3JtcyBmcm9tICcuLi92aWV3cy9mb3Jtcyc7XG5pbXBvcnQgdG9kb1RhYiBmcm9tICcuLi92aWV3cy90b2RvVGFiJztcbmltcG9ydCB1c2VyRGF0YSBmcm9tICcuLi9tb2RlbHMvdXNlckRhdGEnO1xuaW1wb3J0IHN0b3JhZ2VIZWxwZXJzIGZyb20gJy4uL21vZGVscy9zdG9yYWdlSGVscGVycyc7XG4vKlxuICogQXMgYSBjb250cm9sbGVyLCB0aGlzIGlzIHJlc3BvbnNpYmxlIGZvciBjb21tdW5pY2F0aW5nIHdpdGggdGhlIHZpZXdcbiAqIGFuZCBkYXRhYnNlIGluIG9yZGVyIHRvIGdhdGhlciBhbmQgc3RvcmUgZGF0YVxuICovXG5jb25zdCB0b2RvVGFiQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gIC8qXG4gICAgICogU29tZSBoZWxwZXJzIHRvIHdvcmsgaW4gdGhlIHRhYiBkaXNwbGF5aW5nXG4gICAgICovXG4gIGNvbnN0IHN1Ym1pdFRhc2tGb3JtID0gKGtleSkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZS1pbnB1dCcpLnZhbHVlO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1pbnB1dCcpLnZhbHVlO1xuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlmZmljdWx0eS1zZWxlY3QnKS52YWx1ZTtcbiAgICBjb25zdCBleHBpcmluZ0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1pbnB1dCcpLnZhbHVlO1xuICAgIGNvbnN0IG9iaiA9IHVzZXJEYXRhLmNyZWF0ZVRhc2tPYmoobmFtZSwgY29udGVudCwgZGlmZmljdWx0eSwgZXhwaXJpbmdEYXRlKTtcbiAgICBjb25zdCB2YWxpZGF0ZSA9IHVzZXJEYXRhLnZhbGlkYXRlVGFza0lucHV0KG9iaik7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsaWRhdGUpKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd2FybmluZy1tZXNzYWdlJykpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3dhcm5pbmctbWVzc2FnZScpKTtcbiAgICAgICAgYXJyYXkuZm9yRWFjaCgoaXRlbSkgPT4geyBpdGVtLnJlbW92ZSgpOyB9KTtcbiAgICAgIH1cbiAgICAgIHZhbGlkYXRlLmZvckVhY2goKG1lc3NhZ2UpID0+IHRvZG9UYWIucmVuZGVyV2FybmluZ01lc3NhZ2UobWVzc2FnZSkpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdG9yYWdlSGVscGVycy5hZGROZXdUYXNrVG9Qcm9qZWN0KGtleSwgb2JqKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1mb3JtLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGNvbXBsZXRlVG9kbyA9IChrZXksIHRhc2tOYW1lLCB0b2RvRGVzY3JpcHRpb24pID0+IHtcbiAgICBzdG9yYWdlSGVscGVycy5jaGFuZ2VUb2RvU3RhdGUoa2V5LCB0YXNrTmFtZSwgdG9kb0Rlc2NyaXB0aW9uKTtcbiAgfTtcblxuICBjb25zdCBjb21wbGV0ZVRhc2sgPSAoa2V5LCB0YXNrTmFtZSkgPT4ge1xuICAgIHN0b3JhZ2VIZWxwZXJzLmNoYW5nZVRhc2tTdGF0ZShrZXksIHRhc2tOYW1lKTtcbiAgfTtcblxuICBjb25zdCBwbGFjZWhvbGREYXRhID0gKG9iaikgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYW1lLWlucHV0JykudmFsdWUgPSBvYmoubmFtZTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1pbnB1dCcpLnZhbHVlID0gb2JqLmNvbnRlbnQ7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpZmZpY3VsdHktc2VsZWN0JykudmFsdWUgPSBvYmouZGlmZmljdWx0eTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1pbnB1dCcpLnZhbHVlID0gb2JqLmRhdGU7XG4gIH07XG5cbiAgY29uc3QgZ2F0aGVyRGF0YUZyb21Gb3JtID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmFtZS1pbnB1dCcpLnZhbHVlO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudC1pbnB1dCcpLnZhbHVlO1xuICAgIGNvbnN0IGRpZmZpY3VsdHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlmZmljdWx0eS1zZWxlY3QnKS52YWx1ZTtcbiAgICBjb25zdCBleHBpcmluZ0RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZS1pbnB1dCcpLnZhbHVlO1xuICAgIHJldHVybiB1c2VyRGF0YS5jcmVhdGVUYXNrT2JqKG5hbWUsIGNvbnRlbnQsIGRpZmZpY3VsdHksIGV4cGlyaW5nRGF0ZSk7XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlVG9kbyA9IChrZXksIHRhc2tOYW1lLCB0b2RvRGVzY3JpcHRpb24pID0+IHtcbiAgICBzdG9yYWdlSGVscGVycy5yZW1vdmVUb2RvRnJvbVRhc2soa2V5LCB0YXNrTmFtZSwgdG9kb0Rlc2NyaXB0aW9uKTtcbiAgfTtcblxuICBjb25zdCBkaXNwbGF5SW5mb1RhYiA9IChrZXksIG9ialN0ciwgcmVsb2FkKSA9PiB7XG4gICAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZShvYmpTdHIpO1xuICAgIGNvbnN0IGluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1pbmZvLWNvbnRhaW5lcicpO1xuICAgIGlmIChpbmZvKSB7XG4gICAgICBpbmZvLnJlbW92ZSgpO1xuICAgIH1cbiAgICBjb25zdCBidG5zID0gdG9kb1RhYi5yZW5kZXJUYXNrSW5mbyhrZXksIG9iaik7XG4gICAgYnRucy5lZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2staW5mby1jb250YWluZXInKS5yZW1vdmUoKTtcbiAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stZm9ybS1jb250YWluZXInKSkge1xuICAgICAgICBjb25zdCBlZGl0VGFza0Zvcm0gPSBmb3Jtcy5uZXdUYXNrRm9ybShrZXkpO1xuICAgICAgICBwbGFjZWhvbGREYXRhKG9iaik7XG4gICAgICAgIGVkaXRUYXNrRm9ybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICBjb25zdCBpdGVtID0gZ2F0aGVyRGF0YUZyb21Gb3JtKCk7XG4gICAgICAgICAgaXRlbS50b2RvcyA9IG9iai50b2RvcztcbiAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdXNlckRhdGEudmFsaWRhdGVUYXNrSW5wdXQoaXRlbSk7XG4gICAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbGlkYXRpb24pKSB7XG4gICAgICAgICAgICBzdG9yYWdlSGVscGVycy5yZW1vdmVUYXNrRnJvbVByb2plY3Qoa2V5LCBvYmopO1xuICAgICAgICAgICAgc3RvcmFnZUhlbHBlcnMuYWRkTmV3VGFza1RvUHJvamVjdChrZXksIGl0ZW0pO1xuICAgICAgICAgICAgcmVsb2FkKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGJ0bnMuY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXNrLWluZm8tY29udGFpbmVyJykucmVtb3ZlKCk7IH0pO1xuXG4gICAgYnRucy5kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBzdG9yYWdlSGVscGVycy5yZW1vdmVUYXNrRnJvbVByb2plY3Qoa2V5LCBvYmopO1xuICAgICAgcmVsb2FkKCk7XG4gICAgfSk7XG5cbiAgICBpZiAoc3RvcmFnZUhlbHBlcnMuY2hlY2tJZkRhdGVJc0xhdGUoa2V5LCBvYmoubmFtZSkpIHtcbiAgICAgIGJ0bnMuZGF0ZUluZm8uY2xhc3NMaXN0LmFkZCgnZGF0ZS1maWVsZC13YXJuaW5nJyk7XG4gICAgICBidG5zLmRhdGVJbmZvLnRpdGxlID0gJ1Rhc2sgaXMgTGF0ZSc7XG4gICAgICBidG5zLmRhdGVJbmZvLnRleHRDb250ZW50ID0gYCR7b2JqLmRhdGV9IC0gVGFzayBpcyBMYXRlYDtcbiAgICB9XG4gICAgaWYgKGJ0bnMuZGlmZmljdWx0eUluZm8udGV4dENvbnRlbnQgPT09ICdFYXN5Jykge1xuICAgICAgYnRucy5kaWZmaWN1bHR5SW5mby5jbGFzc0xpc3QuYWRkKCdlYXN5LWNvbnRhaW5lcicpO1xuICAgIH0gZWxzZSBpZiAoYnRucy5kaWZmaWN1bHR5SW5mby50ZXh0Q29udGVudCA9PT0gJ01lZGl1bScpIHtcbiAgICAgIGJ0bnMuZGlmZmljdWx0eUluZm8uY2xhc3NMaXN0LmFkZCgnbWVkaXVtLWNvbnRhaW5lcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidG5zLmRpZmZpY3VsdHlJbmZvLmNsYXNzTGlzdC5hZGQoJ2hhcmQtY29udGFpbmVyJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qXG4gICAgICogVGhpcyBmdW5jdGlvbiBkaXNwbGF5IHRoZSBlbnRpcmUgdG9kbyB0YWIsIHRha2luZyB0aGUgZGF0YSBmcm9tIHRoZSB2aWV3XG4gICAgICogYW5kIHNlbmRpbmcgdG8gdGhlIG1vZGVsXG4gICAgICovXG5cbiAgY29uc3QgZGlzcGxheVRhYkNvbnRlbnQgPSAoKSA9PiB7XG4gICAgc3RvcmFnZUhlbHBlcnMucmVtb3ZlV2VicGFja1N0b3JhZ2VMb2coKTtcbiAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctcHJvamVjdC1idG4nKSkge1xuICAgICAgdG9kb1RhYi5uZXdQcm9qZWN0QnRuKCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGZvcm1zLm5ld1Byb2plY3RGb3JtKCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZm9ybVZhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9qZWN0LW5hbWUnKS52YWx1ZTtcbiAgICAgICAgICBpZiAodXNlckRhdGEudmFsaWRhdGVQcm9qZWN0SW5wdXQoZm9ybVZhbCkpIHtcbiAgICAgICAgICAgIHN0b3JhZ2VIZWxwZXJzLmNyZWF0ZU5ld1Byb2plY3QoZm9ybVZhbCk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvamVjdC1mb3JtLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdJbnZhbGlkIFByb2plY3QgTmFtZScpKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdJbnZhbGlkIFByb2plY3QgTmFtZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlzcGxheVRhYkNvbnRlbnQoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9ICdJbnZhbGlkIFByb2plY3QgTmFtZSc7XG4gICAgICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgIHRvZG9UYWIucmVuZGVyV2FybmluZ1Byb2plY3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJvamVjdC0ke3VzZXJEYXRhLmNvbnZlcnRUb1ZhbGlkSWQoa2V5KX1gKSkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJvamVjdC0ke3VzZXJEYXRhLmNvbnZlcnRUb1ZhbGlkSWQoa2V5KX1gKS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICAgIHRvZG9UYWIucmVuZGVyUHJvamVjdChrZXkpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBmb3Jtcy5uZXdUYXNrRm9ybShrZXkpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIGlmIChzdWJtaXRUYXNrRm9ybShrZXkpKSB7XG4gICAgICAgICAgICBkaXNwbGF5VGFiQ29udGVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKGl0ZW0pO1xuICAgICAgICBpZiAoIW9iai5zdGF0dXMpIHtcbiAgICAgICAgICBjb25zdCB0YXNrQnRucyA9IHRvZG9UYWIucmVuZGVyVGFzayhrZXksIG9iaik7XG4gICAgICAgICAgdGFza0J0bnMuY29tcGxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb21wbGV0ZVRhc2soa2V5LCBvYmoubmFtZSk7XG4gICAgICAgICAgICBkaXNwbGF5VGFiQ29udGVudCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHRhc2tCdG5zLnRvZG9CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdWJtaXRCdG4gPSBmb3Jtcy5uZXdUb2RvRm9ybShrZXksIG9iai5uYW1lKTtcbiAgICAgICAgICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tZm9ybS1pbnB1dCcpLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAodXNlckRhdGEudmFsaWRhdGVUb2RvSW5wdXQodmFsKSkge1xuICAgICAgICAgICAgICAgIHN0b3JhZ2VIZWxwZXJzLmFkZE5ld1RvZG9Ub1Rhc2soa2V5LCBvYmosIHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChvYmoudG9kb3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb2JqLnRvZG9zLmZvckVhY2goKHRvZG8pID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgW2Rlc2NyaXB0aW9uXSA9IEpTT04ucGFyc2UodG9kbyk7XG4gICAgICAgICAgICAgIGlmICghc3RvcmFnZUhlbHBlcnMuY2hlY2tJZlRvZG9Jc0NvbXBsZXRlZChrZXksIEpTT04ucGFyc2UoaXRlbSkubmFtZSwgZGVzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tCdG4gPSB0b2RvVGFiLnJlbmRlclRvZG8oa2V5LCBvYmoubmFtZSwgdG9kbyk7XG4gICAgICAgICAgICAgICAgY29uc3QgW2Rlc2NyaXB0aW9uXSA9IEpTT04ucGFyc2UodG9kbyk7XG4gICAgICAgICAgICAgICAgY2hlY2tCdG4uY2hlY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb21wbGV0ZVRvZG8oa2V5LCBvYmoubmFtZSwgZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgZGlzcGxheVRhYkNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjaGVja0J0bi5kZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWxldGVUb2RvKGtleSwgb2JqLm5hbWUsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXlUYWJDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tCdG4gPSB0b2RvVGFiLnJlbmRlckNoZWNrZWRUb2RvKGtleSwgb2JqLm5hbWUsIHRvZG8pO1xuICAgICAgICAgICAgICAgIGNoZWNrQnRuLmNoZWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgc3RvcmFnZUhlbHBlcnMuY2hhbmdlVG9kb1N0YXRlKGtleSwgb2JqLm5hbWUsIEpTT04ucGFyc2UodG9kbylbMF0pO1xuICAgICAgICAgICAgICAgICAgZGlzcGxheVRhYkNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjaGVja0J0bi5jaGVja0J0bi5jbGFzc0xpc3QucmVtb3ZlKCdjb21wbGV0ZS1idG4nKTtcbiAgICAgICAgICAgICAgICBjaGVja0J0bi5jaGVja0J0bi5jbGFzc0xpc3QuYWRkKCd1bmNvbXBsZXRlLWJ0bicpO1xuICAgICAgICAgICAgICAgIGNoZWNrQnRuLmNoZWNrQnRuLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnY29tcGxldGVkLXRvZG8nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRhc2tCdG5zLm5hbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBkaXNwbGF5SW5mb1RhYihrZXksIGl0ZW0sIGRpc3BsYXlUYWJDb250ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheVRhYkNvbXBsZXRlZENvbnRlbnQgPSAoKSA9PiB7XG4gICAgc3RvcmFnZUhlbHBlcnMucmVtb3ZlV2VicGFja1N0b3JhZ2VMb2coKTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldy1wcm9qZWN0LWJ0bicpKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV3LXByb2plY3QtYnRuJykucmVtb3ZlKCk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2plY3QtJHt1c2VyRGF0YS5jb252ZXJ0VG9WYWxpZElkKGtleSl9YCkpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2plY3QtJHt1c2VyRGF0YS5jb252ZXJ0VG9WYWxpZElkKGtleSl9YCkucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgICB0b2RvVGFiLnJlbmRlclByb2plY3Qoa2V5KS5yZW1vdmUoKTtcbiAgICAgIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSkuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHRhc2spO1xuICAgICAgICBpZiAob2JqLnN0YXR1cykge1xuICAgICAgICAgIGNvbnN0IGJ0biA9IHRvZG9UYWIucmVuZGVyVGFzayhrZXksIG9iaik7XG4gICAgICAgICAgYnRuLmNvbXBsZXRlQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbXBsZXRlLWJ0bicpO1xuICAgICAgICAgIGJ0bi5jb21wbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdjb21wbGV0ZWQtYnRuJyk7XG4gICAgICAgICAgYnRuLmNvbXBsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgICAgc3RvcmFnZUhlbHBlcnMuY2hhbmdlVGFza1N0YXRlKGtleSwgb2JqLm5hbWUpO1xuICAgICAgICAgICAgZGlzcGxheVRhYkNvbXBsZXRlZENvbnRlbnQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBidG4udG9kb0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgLypcbiAgICAgICAgICBidG4uZWRpdEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgYnRuLmRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHN0b3JhZ2VIZWxwZXJzLnJlbW92ZVRhc2tGcm9tUHJvamVjdChrZXksIG9iaik7XG4gICAgICAgICAgICBkaXNwbGF5VGFiQ29tcGxldGVkQ29udGVudCgpO1xuICAgICAgICAgIH0pO1xuKi9cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLypcbiAgICAgKiBCYXNpYyBmbG93IHRoYXQgd2lsbCBleGVjdXRlIHRoZSBmdW5jdGlvbiBhcyBzb29uIGFzIGl0IGlzXG4gICAgICogY2FsbGVkXG4gICAgICovXG5cbiAgZGlzcGxheVRhYkNvbnRlbnQoKTtcbiAgaWYgKCFzdG9yYWdlSGVscGVycy5jaGVja0ZvclByb2plY3RFeGlzdGVuY2UoKSkge1xuICAgIHRvZG9UYWIubm9Qcm9qZWN0V2FybmluZygpO1xuICB9XG4gIHJldHVybiB7IGRpc3BsYXlUYWJDb250ZW50LCBkaXNwbGF5VGFiQ29tcGxldGVkQ29udGVudCB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgdG9kb1RhYkNvbnRyb2xsZXI7XG4iLCJpbXBvcnQgcmVuZGVyIGZyb20gJy4vcmVuZGVyJztcblxuY29uc3Qgc2lkZUNvbnRlbnQgPSAoKCkgPT4ge1xuICBjb25zdCByZW5kZXJEYXRhID0gKGNvbXBsZXRlZCwgdW5jb21wbGV0ZWQsIG9uVGltZSwgbGF0ZVRpbWUpID0+IHtcbiAgICByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLWNvbnRhaW5lcicsICdsZWZ0LXNlY3Rpb24nLCAnYm94Jyk7XG4gICAgY29uc3QgY29tcGxldGVkRGF0YSA9IHJlbmRlci5jb250YWluZXIoJ3N0YXRpc3RpY3MtY29tcGxldGluZy1jb21wbGV0ZWQnLCAnc3RhdGlzdGljcy1jb250YWluZXInLCBbJ2ZsZXgtZ3JpZCcsICdpbmZvLWNvbnRhaW5lciddKTtcbiAgICByZW5kZXIuY29udGFpbmVyKG51bGwsICdzdGF0aXN0aWNzLWNvbXBsZXRpbmctY29tcGxldGVkJywgWydjb2wtMScsICdmYScsICdmYS1jaGVjaycsICdpY29uLWdvb2QnXSk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcignc3RhdGlzdGljcy1jb21wbGV0ZWQtbGFiZWwnLCAnc3RhdGlzdGljcy1jb21wbGV0aW5nLWNvbXBsZXRlZCcsIFsnY29sLTknLCAnc2lkZS1pbmZvJ10pLnRleHRDb250ZW50ID0gJ1Rhc2tzIENvbXBsZXRlZCc7XG4gICAgcmVuZGVyLmNvbnRhaW5lcignc3RhdGlzdGljcy1jb21wbGV0ZWQtZGF0YScsICdzdGF0aXN0aWNzLWNvbXBsZXRpbmctY29tcGxldGVkJywgJ2NvbC0yJykudGV4dENvbnRlbnQgPSBgOiAke2NvbXBsZXRlZH1gO1xuXG4gICAgY29uc3QgdW5jb21wbGV0ZWREYXRhID0gcmVuZGVyLmNvbnRhaW5lcignc3RhdGlzdGljcy1jb21wbGV0aW5nLXVuY29tcGxldGVkJywgJ3N0YXRpc3RpY3MtY29udGFpbmVyJywgWydmbGV4LWdyaWQnLCAnaW5mby1jb250YWluZXInXSk7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihudWxsLCAnc3RhdGlzdGljcy1jb21wbGV0aW5nLXVuY29tcGxldGVkJywgWydjb2wtMScsICdmYScsICdmYS10aW1lcycsICdpY29uLWJhZCddKTtcbiAgICByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLXVuY29tcGxldGVkLWxhYmVsJywgJ3N0YXRpc3RpY3MtY29tcGxldGluZy11bmNvbXBsZXRlZCcsIFsnY29sLTknLCAnc2lkZS1pbmZvJ10pLnRleHRDb250ZW50ID0gJ1Rhc2tzIFVuY29tcGxldGVkJztcbiAgICByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLXVuY29tcGxldGVkLWRhdGEnLCAnc3RhdGlzdGljcy1jb21wbGV0aW5nLXVuY29tcGxldGVkJywgJ2NvbC0yJykudGV4dENvbnRlbnQgPSBgOiAke3VuY29tcGxldGVkfWA7XG5cbiAgICBjb25zdCBvblRpbWVEYXRhID0gcmVuZGVyLmNvbnRhaW5lcignc3RhdGlzdGljcy1jb21wbGV0aW5nLW9udGltZScsICdzdGF0aXN0aWNzLWNvbnRhaW5lcicsIFsnZmxleC1ncmlkJywgJ2luZm8tY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIobnVsbCwgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1vbnRpbWUnLCBbJ2NvbC0xJywgJ2ZhJywgJ2ZhLWNsb2NrLW8nLCAnaWNvbi1nb29kJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIoJ3N0YXRpc3RpY3Mtb250aW1lLWxhYmVsJywgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1vbnRpbWUnLCBbJ2NvbC05JywgJ3NpZGUtaW5mbyddKS50ZXh0Q29udGVudCA9ICdUYXNrcyBvbiBUaW1lJztcbiAgICByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLW9udGltZS1kYXRhJywgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1vbnRpbWUnLCAnY29sLTInKS50ZXh0Q29udGVudCA9IGA6ICR7b25UaW1lfWA7XG5cbiAgICBjb25zdCBsYXRlVGltZURhdGEgPSByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLWNvbXBsZXRpbmctbGF0ZScsICdzdGF0aXN0aWNzLWNvbnRhaW5lcicsIFsnZmxleC1ncmlkJywgJ2luZm8tY29udGFpbmVyJ10pO1xuICAgIHJlbmRlci5jb250YWluZXIobnVsbCwgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1sYXRlJywgWydjb2wtMScsICdmYScsICdmYS1idWxsaG9ybicsICdpY29uLWJhZCddKTtcbiAgICByZW5kZXIuY29udGFpbmVyKCdzdGF0aXN0aWNzLWxhdGVUaW1lLWxhYmVsJywgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1sYXRlJywgWydjb2wtOScsICdzaWRlLWluZm8nXSkudGV4dENvbnRlbnQgPSAnTGF0ZSBUYXNrcyc7XG4gICAgcmVuZGVyLmNvbnRhaW5lcignc3RhdGlzdGljcy1sYXRlVGltZS1kYXRhJywgJ3N0YXRpc3RpY3MtY29tcGxldGluZy1sYXRlJywgJ2NvbC0yJykudGV4dENvbnRlbnQgPSBgOiAke2xhdGVUaW1lfWA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgY29tcGxldGVkOiBjb21wbGV0ZWREYXRhLFxuICAgICAgdW5jb21wbGV0ZWQ6IHVuY29tcGxldGVkRGF0YSxcbiAgICAgIG9uVGltZTogb25UaW1lRGF0YSxcbiAgICAgIGxhdGU6IGxhdGVUaW1lRGF0YSxcbiAgICB9O1xuICB9O1xuXG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gKHRhc2tOYW1lKSA9PiB7XG4gICAgcmVuZGVyLmNvbnRhaW5lcihgaW5mby0ke3Rhc2tOYW1lfWAsICdzdGF0aXN0aWNzLWNvbXBsZXRpbmctY29tcGxldGVkJywgJ21pbmlib3gnKS50ZXh0Q29udGVudCA9IGAgLSAke3Rhc2tOYW1lfWA7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICByZW5kZXJEYXRhLFxuICAgIGRpc3BsYXlJbmZvLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgc2lkZUNvbnRlbnQ7XG4iLCJpbXBvcnQgc2lkZUNvbnRlbnQgZnJvbSAnLi4vdmlld3Mvc2lkZUNvbnRlbnQnO1xuaW1wb3J0IHN0b3JhZ2VIZWxwZXJzIGZyb20gJy4uL21vZGVscy9zdG9yYWdlSGVscGVycyc7XG5cbmNvbnN0IHNpZGVDb250ZW50Q29udHJvbGxlciA9ICgpID0+IHtcbiAgY29uc3QgZGF0YSA9IHN0b3JhZ2VIZWxwZXJzLmdhdGhlclN0b3JhZ2VEYXRhKCk7XG4gIGNvbnN0IGJ0biA9IHNpZGVDb250ZW50LnJlbmRlckRhdGEoZGF0YS5jb21wbGV0ZWQsIGRhdGEudW5jb21wbGV0ZWQsIGRhdGEub25UaW1lLCBkYXRhLmxhdGVUaW1lKTtcbiAgYnRuLmNvbXBsZXRlZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBzdG9yYWdlSGVscGVycy5nYXRoZXJDb21wbGV0ZWRUYXNrc05hbWVzKCkuZm9yRWFjaCgodGFza05hbWUpID0+IHtcbiAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGluZm8tJHt0YXNrTmFtZX1gKSkge1xuICAgICAgICBzaWRlQ29udGVudC5kaXNwbGF5SW5mbyh0YXNrTmFtZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICBidG4udW5jb21wbGV0ZWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgc2lkZUNvbnRlbnRDb250cm9sbGVyO1xuIiwiaW1wb3J0IHRvZG9UYWJDb250cm9sbGVyIGZyb20gJy4vY29udHJvbGxlcnMvdG9kb1RhYkNvbnRyb2xsZXInO1xuaW1wb3J0IHNpZGVDb250ZW50Q29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXJzL3NpZGVDb250ZW50Q29udHJvbGxlcic7XG5pbXBvcnQgc3RvcmFnZUhlbHBlcnMgZnJvbSAnLi9tb2RlbHMvc3RvcmFnZUhlbHBlcnMnO1xuXG4oKCkgPT4ge1xuICBzaWRlQ29udGVudENvbnRyb2xsZXIoKTtcbiAgc3RvcmFnZUhlbHBlcnMucmVtb3ZlV2VicGFja1N0b3JhZ2VMb2coKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tdGFiLWJ0bicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHRvZG9UYWJDb250cm9sbGVyLmRpc3BsYXlUYWJDb250ZW50KCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLXRhYi1idG4tY29tcGxldGVkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgdG9kb1RhYkNvbnRyb2xsZXIuZGlzcGxheVRhYkNvbXBsZXRlZENvbnRlbnQoKTtcbiAgfSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==
