!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=(()=>{const e=(e,t)=>{let n=localStorage.getItem(e),o=-1;return JSON.parse(n).forEach((e,n)=>{let a=JSON.parse(e);t===a.name?o=n:console.log("findDataIndexByKey:Error: No matching found")}),o},t=(t,n)=>{let o=JSON.parse(localStorage.getItem(t));o.splice(e(t,n),1),localStorage.removeItem(t),localStorage.setItem(t,JSON.stringify(o))},n=(e,t)=>{let n=JSON.parse(localStorage.getItem(e));localStorage.removeItem(e),n.unshift(JSON.stringify(t)),localStorage.setItem(e,JSON.stringify(n))};return{addNewTaskToProject:n,addNewTodoToTask:(o,a,r)=>{let c=e(o,a.name);if(-1!==c){let e=JSON.parse(localStorage.getItem(o)),l=JSON.parse(e[c]);l.todos.push(JSON.stringify([r,!1])),t(o,a.name),n(o,l)}},createNewProject:e=>{localStorage.setItem(e,JSON.stringify([]))},removeTaskFromStorage:t,findDataIndexByKey:e}})();var a={createTaskObj:(e,t,n,o)=>({name:e,content:t,difficulty:n,date:o,status:!1,todos:[]}),validateProjectInput:e=>/^[a-zA-Z]/g.test(e),validateTaskInput:e=>{if(/^[a-zA-Z]/.test(e.name)){if(e.content.length>0)return!0;alert("Invalid Input: Task content must exist")}else alert("Invalid Input: Task name should start with a letter")},convertToValidId:e=>e.replace(/\s/g,"-")};var r={container:(e,t,n=null,o="div")=>{let r=document.createElement(o);return e&&(r.id=a.convertToValidId(e)),t=a.convertToValidId(t),n&&(Array.isArray(n)?n.forEach(e=>{r.classList.add(e)}):r.classList.add(n),console.log("render:container:Warning: No Class")),document.getElementById(t).appendChild(r),r}};var c={renderProject:e=>{r.container("project-"+e,"content-section",["box"]),r.container(`project-${e}-container`,"project-"+e,"flex-grid"),r.container(`project-${e}-name`,`project-${e}-container`,["col-12","col-m-10"]),r.container(e,`project-${e}-name`,["minibox","center"],"h2").textContent=e;let t=r.container(`project-${e}-button`,`project-${e}-container`,["col-2","minibox"],"button");return t.textContent="Add New Task",t},renderTask:(e,t)=>{r.container(`task-${e}-${t.name}`,"project-"+e),r.container(`task-${e}-${t.name}-name-container`,`task-${e}-${t.name}`,["flex-grid"]);let n=r.container(`task-${e}-${t.name}-complete-task-btn`,`task-${e}-${t.name}-name-container`,"col-1","button");n.textContent="Complete Task",r.container(`task-${e}-${t.name}-name`,`task-${e}-${t.name}-name-container`,["col-11"]).textContent=t.name,r.container(`task-${e}-${t.name}-content-container`,`task-${e}-${t.name}`,["flex-grid"]),r.container(`task-${e}-${t.name}-content`,`task-${e}-${t.name}-content-container`,["col-10"]).textContent=t.content,r.container(`task-${e}-${t.name}-content-container-buttons`,`task-${e}-${t.name}-content-container`,"col-2");let o=r.container(`task-${e}-${t.name}-edit-button`,`task-${e}-${t.name}-content-container-buttons`,null,"button");o.textContent="Edit Task";let a=r.container(`task-${e}-${t.name}-delete-button`,`task-${e}-${t.name}-content-container-buttons`,null,"button");a.textContent="Delete Task",r.container(`task-${e}-${t.name}-todo`,`task-${e}-${t.name}`);let c=r.container(`task-${e}-${t.name}-todo-button`,`task-${e}-${t.name}`,null,"button");return c.textContent="Add new Todo",{todoBtn:c,editBtn:o,deleteBtn:a,completeBtn:n}},newProjectBtn:()=>{let e=r.container("new-project-btn","content-section",["button"],"button");return e.textContent="New Project",e},renderTodo:(e,t,n)=>{r.container(`task-${e}-${t}-${n}-todo`,`task-${e}-${t}-todo`,"flex-grid");let o=r.container(`task-${e}-${t}-${n}-todo-container-button`,`task-${e}-${t}-${n}-todo`,"col-1","button");return r.container(`todo-${e}-${t}-${n}-todo-container-description`,`task-${e}-${t}-${n}-todo`,"col-11").textContent=JSON.parse(n)[0],o}};var l={newProjectForm:()=>{console.log("Rendering new Project form"),r.container("project-form-container","content-section",null,"div"),r.container("project-form","project-form-container",["flex-grid","around","box","row","col-l-5","col-12"],"form"),r.container("p","project-form",["col-12","col-m-4","col-l-4"],"label").textContent="Project Name",r.container("project-name","project-form",["col-12","col-m-8","col-l-8"],"input");const e=r.container("project-submit-btn","project-form",["col-12"],"input");return e.type="button",e.value="Create Project!",e},newTaskForm:e=>{console.log("Rendering: Task Form"),r.container("task-form-container","content-section","col-12"),r.container("task-form","task-form-container",null,"form"),r.container("name-label","task-form",null,"label").textContent="Name",r.container("name-input","task-form",null,"input"),document.getElementById("task-form").appendChild(document.createElement("br")),r.container("content-label","task-form",null,"label").textContent="Content",r.container("content-input","task-form",null,"textarea"),document.getElementById("task-form").appendChild(document.createElement("br"));let t=r.container("task-submit","task-form",null,"input");return t.value="Submit",t.type="submit",t},newTodoForm:()=>{r.container("todo-form-container","content-section",null,"form"),r.container("todo-form-label","todo-form-container",null,"label"),r.container("todo-form-input","todo-form-container",null,"input");let e=r.container("todo-form-submit","todo-form-container",null,"input");return e.value="Create Todo",e.type="submit",e}};(()=>{const e=()=>{Object.keys(localStorage).forEach(e=>{document.getElementById("project-"+a.convertToValidId(e))&&document.getElementById("project-"+a.convertToValidId(e)).remove(),c.renderProject(e).addEventListener("click",()=>{l.newTaskForm(e).addEventListener("click",()=>(e=>{let t=document.getElementById("name-input").value,n=document.getElementById("content-input").value,r=a.createTaskObj(t,n,null,null);a.validateTaskInput(r)?o.addNewTaskToProject(e,r):console.log("Data Submission returned FALSE")})(e))})})},t=()=>{Object.keys(localStorage).forEach(e=>{JSON.parse(localStorage.getItem(e)).forEach(t=>{let r=JSON.parse(t),i=c.renderTask(e,r);i.completeBtn.addEventListener("click",()=>{completeTask(e,t)}),i.todoBtn.addEventListener("click",()=>{l.newTodoForm().addEventListener("click",()=>{let t=document.getElementById("todo-form-input").value;o.addNewTodoToTask(e,r,t)})}),r.todos.length>0&&r.todos.forEach(t=>{c.renderTodo(e,r.name,t).addEventListener("click",()=>((e,t,n)=>{let a=o.findDataIndexByKey(e,t),r=JSON.parse(localStorage.getItem(e));console.log(r[a]),task=JSON.parse(r[a]),console.log(task),task.todos.forEach(e=>{e[0]===n?console.log(right):console.log(e[0],n)})})(e,r.name,t))}),i.deleteBtn.addEventListener("click",()=>{o.removeTaskFromStorage(e,t),n()}),i.editBtn.addEventListener("click",()=>{let c=l.newTaskForm(e);(e=>{document.getElementById("name-input").value=e.name,document.getElementById("content-input").value=e.content})(JSON.parse(t)),c.addEventListener("click",()=>{if(a.validateTaskInput(r)){let r=(()=>{let e=document.getElementById("name-input").value,t=document.getElementById("content-input").value;return a.createTaskObj(e,t,null,null)})();o.removeTaskFromStorage(e,t),o.addNewTaskToProject(e,r),n()}})})})})},n=()=>{e(),t()},r=()=>{document.getElementById("project-form")?alert("Form Already Displayed"):l.newProjectForm().addEventListener("click",()=>{let e=document.getElementById("project-name").value;a.validateProjectInput(e)&&(o.createNewProject(e),document.getElementById("project-form").remove(),n())})};c.newProjectBtn().addEventListener("click",r),n()})()}]);